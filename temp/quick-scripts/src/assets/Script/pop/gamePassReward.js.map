{"version":3,"sources":["assets\\Script\\pop\\gamePassReward.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAAoC;AACpC,mDAAkD;AAElD,2CAAsC;AACtC,2CAAsC;AAEtC,sEAAiE;AACjE,sDAAiD;AACjD,iDAA4C;AAC5C,qCAAgC;AAChC,qCAAgC;AAE1B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAM;IAAlD;QAAA,qEAkKC;QA/JW,iBAAW,GAAY,IAAI,CAAC;QAG5B,eAAS,GAAY,IAAI,CAAC;QAElC,4CAA4C;QAC5C,gCAAgC;QAGxB,cAAQ,GAAa,EAAE,CAAC;QAGxB,SAAG,GAAa,IAAI,CAAC;QAGrB,oBAAc,GAAoB,EAAE,CAAC;QAGrC,eAAS,GAAW,IAAI,CAAC;QAEjC,IAAI;QACI,aAAO,GAAU,CAAC,CAAC;;QAyI3B,iBAAiB;IACrB,CAAC;IApIG,+BAAM,GAAN;QAEI,sCAAsC;QACtC,mDAAmD;QACnD,aAAa;IAGjB,CAAC;IACD;;OAEG;IACH,6BAAI,GAAJ;QAAA,iBAsDC;QArDG,IAAI,CAAC,QAAQ,GAAG,cAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC;QAElD,IAAI,IAAI,GAAU,IAAI,CAAC;QACvB,IAAI,QAAQ,GAAU,CAAC,CAAC;QAIxB,QAAO,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAC;YAEpC,KAAK,CAAC;gBACF,QAAQ,GAAG,CAAC,CAAC;gBACb,IAAI,IAAI,GAAG,cAAI,CAAC,UAAU,CAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAC,cAAI,CAAC,UAAU,CAAC,CAAC;gBAC3E,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACpB,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAC,IAAI,CAAC,IAAI,EAAC,EAAE,CAAC,WAAW,EAAC,UAAC,GAAG;oBAC1D,KAAI,CAAC,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC;gBAC/B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,SAAS,GAAG,uBAAU,CAAC,cAAc,CAAC;gBAE3C,kBAAQ,CAAC,wBAAwB,CAAC;oBAC9B,gBAAgB,EAAC,SAAS;iBAC7B,CAAC,CAAA;gBACF,kBAAQ,CAAC,mBAAmB,CAAC;oBACzB,gBAAgB,EAAE,SAAS;oBAC3B,SAAS,EAAC,IAAI;iBACjB,CAAC,CAAA;gBACF,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,GAAG,EAAE,CAAC;gBACV,QAAQ,GAAG,CAAC,CAAC;gBACb,IAAI,CAAC,GAAG,CAAC,WAAW,GAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,SAAS,GAAG,uBAAU,CAAC,eAAe,CAAC;gBAC5C,MAAM;YACV,KAAK,CAAC;gBACF,QAAQ,GAAG,CAAC,CAAC;gBACb,IAAI,GAAG,GAAG,GAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAC,KAAK,CAAC;gBAC3C,IAAI,CAAC,GAAG,CAAC,WAAW,GAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,SAAS,GAAG,uBAAU,CAAC,gBAAgB,CAAC;gBAC7C,MAAM;SACb;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAC,gBAAgB,CAAC,CAAA;QAC5C,IAAG,IAAI,CAAC,SAAS;YAAC,sBAAY,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAA,wBAAwB;QAEvG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAElE,IAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAE,CAAC,EAAC;YACrD,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACrC;aAAI;YACD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACvC;IAEL,CAAC;IAED,8BAAK,GAAL;IAEA,CAAC;IAED;;OAEG;IACH,+BAAM,GAAN;QAEI,yBAAe,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QACvC,0EAA0E;QAC1E,+BAA+B;QAE/B,QAAO,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAC;YAEpC,KAAK,CAAC;gBACF,cAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAC,CAAC,CAAC,CAAC,GAAG,IAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;gBAC7E,MAAM;YACV,KAAK,CAAC;gBACF,cAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,MAAM;YACV,KAAK,CAAC;gBACF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,gBAAgB,EAAC,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,EAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,CAAC;gBAC9F,cAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;gBAC5C,MAAM;SACb;QACD,cAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAE3C,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAG,cAAI,CAAC,yBAAyB,CAAC,MAAM,GAAC,CAAC,EAAC;YACvC,IAAI,CAAC,QAAQ,CAAC,gBAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;SACjD;aAAI;YACD,KAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAC,cAAI,CAAC,6BAA6B,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;gBAC1D,cAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,cAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9E;YACD,cAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;YAExC,OAAO,CAAC,GAAG,CAAC,cAAI,CAAC,6BAA6B,EAAC,cAAI,CAAC,yBAAyB,EAAC,oCAAoC,CAAC,CAAA;YACnH,4CAA4C;YAC5C,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,UAAU,CAAC,CAAC;SACnC;IACL,CAAC;IAED;;OAEG;IACH,iCAAQ,GAAR;QACI,yBAAe,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QACvC,IAAI,CAAC,SAAS,EAAE,CAAC;IAErB,CAAC;IAED,iCAAQ,GAAR;IAEA,CAAC;IAGD,kCAAS,GAAT;QACI,IAAG,IAAI,CAAC,SAAS;YAAC,sBAAY,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE1D,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,oBAAoB,CAAC,CAAC;IAC9C,CAAC;IA5JD;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,CAAC;uDACP;IAGpC;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,KAAK,EAAC,WAAW,EAAC,MAAM,EAAC,CAAC;qDACX;IAMlC;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAC,WAAW,EAAC,IAAI,EAAC,CAAC;oDACZ;IAGhC;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,MAAM,EAAC,WAAW,EAAC,IAAI,EAAC,CAAC;+CACf;IAG7B;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,CAAC,EAAE,CAAC,WAAW,CAAC,EAAC,WAAW,EAAC,MAAM,EAAC,CAAC;0DACR;IAG7C;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,IAAI,EAAC,WAAW,EAAC,KAAK,EAAC,CAAC;qDACV;IArBhB,cAAc;QADlC,OAAO;OACa,cAAc,CAkKlC;IAAD,qBAAC;CAlKD,AAkKC,CAlK2C,gBAAM,GAkKjD;kBAlKoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import baseTs from \"../base/baseTs\";\nimport { AdPosition } from \"../common/AdPosition\";\nimport { gameNumerical, propType } from \"../common/faceTs\";\nimport NameTs from \"../common/NameTs\";\nimport pageTs from \"../common/pageTs\";\nimport { UrlConst } from \"../server/UrlConst\";\nimport AdController from \"../server/xmsdk_cocos/AD/AdController\";\nimport soundController from \"../soundController\";\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\nimport tool from \"../util/tool\";\nimport util from \"../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class gamePassReward extends baseTs {\n\n    @property({type:cc.Label,displayName:\"文字\"})\n    private rewardLabel:cc.Label = null;\n\n    @property({type:cc.Label,displayName:\"道具文字\"})\n    private propLabel:cc.Label = null;\n    \n    // @property({type:cc.Node,displayName:\"光\"})\n    // private light:cc.Node = null;\n    \n    @property({type:[cc.Node],displayName:\"标题\"})\n    private titleArr:cc.Node[] = [];\n    \n    @property({type:cc.Sprite,displayName:\"图片\"})\n    private pic:cc.Sprite = null;\n    \n    @property({type:[cc.SpriteFrame],displayName:\"图片集合\"})\n    private picSpriteFrame:cc.SpriteFrame[] = [];\n    \n    @property({type:cc.Node,displayName:\"信息流\"})\n    private feed_node:cc.Node = null;\n\n    //类型\n    private typeNum:number = 1;\n    //\n    private initData:any;\n\n    private xinxiliui:number;\n\n    onLoad () {\n\n        // cc.tween(this.light).repeatForever(\n        //     cc.tween().to(1,{scale:1}).to(1,{scale:1.1})\n        // ).start();\n\n        \n    }    \n    /**\n     * \n     */\n    init(){\n        this.initData = util.gameLevelPassRewardVoList[0];\n\n        let text:string = null;\n        let titleNum:number = 0;\n\n      \n        \n        switch(Number(this.initData.rewardType)){\n\n            case 1:\n                titleNum = 2;\n                let data = tool.GetArrData(\"type\",this.initData.rewardKey,util.propConfig);\n                text = data.explain;\n                this.loadAny(\"texture/prop/prop\"+data.type,cc.SpriteFrame,(res)=>{\n                    this.pic.spriteFrame = res;\n                });\n                this.xinxiliui = AdPosition.UnlcokPropView;\n\n                TrackMgr.AppBuyProductDialog_hcdg({\n                    dialog_name_hcdg:\"恭喜获得新道具\"\n                })\n                TrackMgr.AppDialogClick_hcdg({\n                    dialog_name_hcdg: \"恭喜获得新道具\",\n                    ck_module:\"收下\",\n                })\n                break;\n            case 3:\n                text = \"\";\n                titleNum = 1;\n                this.pic.spriteFrame =  this.picSpriteFrame[1];\n                this.xinxiliui = AdPosition.UnlcokPlaceView;\n                break;\n            case 2:\n                titleNum = 0;\n                text = \"+\"+this.initData.rewardValue+\"红包币\";\n                this.pic.spriteFrame =  this.picSpriteFrame[0];\n                this.xinxiliui = AdPosition.GamePassCoinView;\n                break;\n        }\n        console.log(this.xinxiliui,'this.xinxiliui')\n        if(this.xinxiliui)AdController.loadInfoAd(this.xinxiliui, 636, this.feed_node);//636:feedNode信息流容器节点的宽度\n\n        this.titleArr[titleNum].active = true;\n        this.propLabel.node.active = this.rewardLabel.node.active = false;\n        \n        if(this.initData.rewardType&&this.initData.rewardType==1){\n            this.propLabel.string = text;\n            this.propLabel.node.active = true;\n        }else{\n            this.rewardLabel.string = text;\n            this.rewardLabel.node.active = true;\n        }\n\n    }\n\n    start () {\n\n    }\n\n    /**\n     * 获取\n     */\n    getBtn(){\n\n        soundController.singleton.clickAudio();\n        // cc.game.emit(NameTs.Game_Effect_coin,{node:this.node,value:this.coin});\n        // util.addTermCoin(this.coin);\n\n        switch(Number(this.initData.rewardType)){\n\n            case 1:\n                util.userData.prop[this.initData.rewardKey-1].num+=this.initData.rewardValue;\n                break;\n            case 3:\n                util.unlockPlace();\n                break;\n            case 2:\n                cc.game.emit(NameTs.Game_Effect_coin,{node:this.node,value:this.initData.rewardValue,num:10});\n                util.addTermCoin(this.initData.rewardValue);\n                break;\n        }\n        util.gameLevelPassRewardVoList.splice(0,1);\n\n        this.closeBtn();\n\n        if(util.gameLevelPassRewardVoList.length>0){\n            this.showPage(pageTs.pageName.GamePassReward);\n        }else{\n            for(let i = 0;i<util.gameLevelPassRewardNextVoList.length;i++){\n                util.gameLevelPassRewardVoList.push(util.gameLevelPassRewardNextVoList[i]);\n            }\n            util.gameLevelPassRewardNextVoList = [];\n\n            console.log(util.gameLevelPassRewardNextVoList,util.gameLevelPassRewardVoList,'util.gameLevelPassRewardNextVoList')\n            // this.showPage(pageTs.pageName.GameStart);\n            cc.game.emit(NameTs.Game_Start);\n        }\n    }\n\n    /**\n     * 关闭\n     */\n    closeBtn(){\n        soundController.singleton.clickAudio();\n        this.closePage();\n        \n    }\n\n    onEnable() {\n       \n    }\n\n\n    onDisable() {\n        if(this.xinxiliui)AdController.hideInfoAd(this.xinxiliui);\n\n        cc.game.emit(NameTs.Game_PropItem_Update);\n    }\n\n    // update (dt) {}\n}\n"]}