{"version":3,"sources":["assets\\Script\\pop\\gameNewPlayerTask.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Progress from \"../../prefab/tool/script/Progress\";\r\nimport { AssistCtr } from \"../Assist/AssistCtr\";\r\nimport baseTs from \"../base/baseTs\";\r\nimport { propType } from \"../common/faceTs\";\r\nimport NameTs from \"../common/NameTs\";\r\nimport NewPlayerTaskModel from \"../model/NewPlayerTaskModel\";\r\nimport { UrlConst } from \"../server/UrlConst\";\r\nimport XMSDK from \"../server/xmsdk_cocos/XMSDK\";\r\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\r\nimport util from \"../util/util\";\r\n\r\n\r\nexport interface withdrawTaskItemVoMap {\r\n    buttonType: number\t         //按钮类型: 1-进行中, 2-待领取, 3-已领取\r\n    day: number                  //天数\r\n    id: number                   //任务ID        \r\n    progress: number\t        //提现进度\r\n    taskTitle: string\t        //任务标题\r\n    type: number\t        //任务类型：1-完成任务, 2-通关, 3-获得星星, 4-观看广告视频, 5-使用道具, 6-抽手机, 7-金币转盘，9-合成任务\r\n    taskValue: number\t        //任务达标数量    \r\n    userTaskValue: number       //用户当前达标数量\r\n}\r\n\r\nexport interface newPlayerTask {\r\n    totalProgress: number                  //提现总进度\r\n    userCurrentProgress: number            //用户完成进度\r\n    withdrawTaskItemVoMap: Object\r\n    weChat: {                    //微信信息\r\n        avatarUrl: string\t     //头像\r\n        nickname: string         //昵称\r\n    }\r\n    withdrawItemVo: {\r\n        amount: string\r\n        id: number\r\n        point: number\r\n    }\r\n    currentDay: number            //当前天数\r\n}\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class gameNewPlayerTask extends baseTs {\r\n\r\n    @property(cc.Node)\r\n    toggleContent: cc.Node = null;\r\n\r\n    @property(Progress)\r\n    progress: Progress = null;\r\n\r\n    @property(cc.Label)\r\n    lable_progress: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    content: cc.Node = null;\r\n\r\n    @property(cc.Prefab)\r\n    newPlayerTaskModel = null;\r\n\r\n    private newPlayerTask: newPlayerTask;\r\n    private curClickTab = 0;\r\n\r\n    private onceEnter = true;       //是否第一次进入\r\n\r\n    onLoad() {\r\n        //this.allNewPlayerTask = allNewPlayerTask;\r\n        cc.game.on(NameTs.Game_NewPlayerTaskGet, this.updateProGress, this);\r\n        cc.game.on(NameTs.bindWechatSuccess, this.wxSucFun, this);\r\n    }\r\n\r\n    onEnable() {\r\n        TrackMgr.newcomer_mission({\r\n            activity_state: `「新人任务」弹窗展示`\r\n        })\r\n\r\n        TrackMgr.AppBuyProductDialog_hcdg({\r\n            dialog_name_hcdg: `新人任务`\r\n        })\r\n    }\r\n\r\n    init(data: newPlayerTask) {\r\n        let toggleItems = this.toggleContent.children;\r\n        for (let i = 0; i < toggleItems.length; i++) {\r\n            toggleItems[i].getChildByName(\"lable_font\").getComponent(cc.Label).string = `第${i + 1}天`;\r\n        }\r\n\r\n        if (data) {\r\n            this.newPlayerTask = data;\r\n            if(this.lable_progress){\r\n                this.lable_progress.string = `提现进度:${this.newPlayerTask.userCurrentProgress}/${this.newPlayerTask.totalProgress}`;\r\n            }\r\n            this.progress.setProgressImage(this.newPlayerTask.userCurrentProgress / this.newPlayerTask.totalProgress);\r\n            this.showRed(true);\r\n        }\r\n    }\r\n\r\n    showRed(isLoc: boolean) {\r\n        let toggleItems = this.toggleContent.children;\r\n        let newPlayerTask = this.newPlayerTask.withdrawTaskItemVoMap;\r\n        let onceRed = null;\r\n        for (let i in newPlayerTask) {\r\n            let taskTabOnAll = newPlayerTask[i];\r\n            let isShowRed = false;\r\n            let day = -1;\r\n\r\n            for (let j = 0; j < taskTabOnAll.length; j++) {\r\n                let taskItem = taskTabOnAll[j];\r\n                if (taskItem && this.onceEnter) {\r\n                    TrackMgr.newcomer_mission({\r\n                        activity_state: `任务完成情况汇总上报`,\r\n                        days: taskItem.day + \"\",\r\n                        task_type: taskItem.taskTitle,\r\n                        task_completion_status: taskItem.buttonType == 1 ? `待完成` : `完成`\r\n                    })\r\n                }\r\n\r\n                if (taskItem) {\r\n                    day = taskItem.day;\r\n                    if (taskItem.buttonType == 2 && toggleItems[day - 1]) {\r\n                        isShowRed = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (toggleItems[day - 1]) {\r\n                toggleItems[day - 1].getChildByName(\"img_red\").active = isShowRed;\r\n                if (isShowRed && onceRed == null) {\r\n                    onceRed = day - 1;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.onceEnter) {\r\n            if (isLoc && onceRed) {\r\n                if (this.newPlayerTask.currentDay + 1 < onceRed) {\r\n                    onceRed = 0;\r\n                }\r\n                this.clickTab(null, onceRed, isLoc);\r\n            }\r\n            else {\r\n                this.clickTab(null, 0, isLoc);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        this.onceEnter = false;\r\n    }\r\n\r\n    clickTab(e, index, isLoc = false) {\r\n        if (this.newPlayerTask && this.newPlayerTask.currentDay + 1 >= parseInt(index)) {\r\n            let curClickTab = null;\r\n\r\n            let tempColor = new cc.Color();\r\n            let toggleItems = this.toggleContent.children;\r\n\r\n\r\n            for (let i = 0; i < toggleItems.length; i++) {\r\n                if (i == index) {\r\n                    toggleItems[i].getChildByName(\"Background\").active = false;\r\n                    toggleItems[i].getChildByName(\"checkmark\").active = true;\r\n                    toggleItems[i].getChildByName(\"lable_font\").color = tempColor.fromHEX(\"#BC1902\")\r\n\r\n                    curClickTab = i;\r\n\r\n                    if (isLoc) {\r\n                        this.toggleContent.x = -254 - 103 * i;\r\n                        TrackMgr.newcomer_mission({\r\n                            activity_state: `点击第x天按钮`,\r\n                            red_dot: toggleItems[i].getChildByName(\"img_red\").active,\r\n                            days: `第${(parseInt(index) + 1)}天`,\r\n                            task_show: true\r\n                        })\r\n                    }\r\n                    else {\r\n                        TrackMgr.newcomer_mission({\r\n                            activity_state: `点击第x天按钮`,\r\n                            red_dot: toggleItems[i].getChildByName(\"img_red\").active,\r\n                            days: `第${(parseInt(index) + 1)}天`,\r\n                            task_show: false\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    toggleItems[i].getChildByName(\"Background\").active = true;\r\n                    toggleItems[i].getChildByName(\"checkmark\").active = false;\r\n                    toggleItems[i].getChildByName(\"lable_font\").color = tempColor.fromHEX(\"#D26C41\")\r\n                }\r\n            }\r\n\r\n\r\n            this.setTabData(curClickTab);\r\n        }\r\n        else {\r\n            AssistCtr.showToastTip(`累积登录${parseInt(index ? index : 1)}天可开启`);\r\n        }\r\n    }\r\n\r\n    setTabData(curClickTab) {\r\n        if (curClickTab != null) {\r\n            this.curClickTab = curClickTab;\r\n\r\n            let tabTaskData = this.newPlayerTask.withdrawTaskItemVoMap[`${curClickTab + 1}`];\r\n            AssistCtr.sortArray([2, 1, 3], \"buttonType\", tabTaskData);\r\n\r\n            let addNum = tabTaskData.length - this.content.children.length;\r\n            if (addNum > 0) {\r\n                for (let i = 0; i < addNum; i++) {\r\n                    let pre: cc.Node = cc.instantiate(this.newPlayerTaskModel);\r\n                    pre.parent = this.content;\r\n                }\r\n            }\r\n            else if (addNum < 0) {\r\n                addNum = Math.abs(addNum);\r\n                let maxChildrenIndex = this.content.children.length - 1;\r\n\r\n                for (let i = 0; i < addNum; i++) {\r\n                    if (maxChildrenIndex > 0 && this.content.children[maxChildrenIndex]) {\r\n                        this.content.children[maxChildrenIndex].destroy();\r\n                        maxChildrenIndex--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let preChild = this.content.children;\r\n            for (let i = 0; i < preChild.length; i++) {\r\n                preChild[i].getComponent(NewPlayerTaskModel).initData(tabTaskData[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateProGress(data) {\r\n        if (this.newPlayerTask) {\r\n\t\t\t\r\n            XMSDK.getdataStr({\r\n                url: UrlConst.newPlayerTaskData,\r\n                onSuccess: res => {\r\n                    if (res.code === 0 && res.data) {\r\n                        if(!this.isValid){\r\n                            return;\r\n                        }\r\n\r\n                        this.newPlayerTask = res.data;\r\n                        if(this.lable_progress){\r\n                            this.lable_progress.string = `提现进度:${this.newPlayerTask.userCurrentProgress}/${this.newPlayerTask.totalProgress}`;\r\n                        }\r\n                        if (data) {\r\n                            this.progress.setPercent(this.newPlayerTask.userCurrentProgress / this.newPlayerTask.totalProgress, data.target);\r\n                        }\r\n                        else {\r\n                            this.progress.setProgressImage(this.newPlayerTask.userCurrentProgress / this.newPlayerTask.totalProgress);\r\n                        }\r\n                        this.setTabData(this.curClickTab);\r\n                        this.showRed(true);\r\n                    }\r\n                    else {\r\n\r\n                    }\r\n                },\r\n                onFail: err => {\r\n\r\n                }\r\n            }\r\n            )\r\n        }\r\n    }\r\n\r\n    clickGetMoney() {\r\n        let self = this;\r\n        if (this.newPlayerTask) {\r\n            if (this.newPlayerTask.totalProgress == this.newPlayerTask.userCurrentProgress) {\r\n                if (!this.newPlayerTask.weChat) {\r\n                    XMSDK.authWechat();\r\n                    TrackMgr.newcomer_mission({\r\n                        activity_state: `点击「领现金」按钮`,\r\n                        receiving_status: false,\r\n                        withdrawal_progress: `提现进度:${this.newPlayerTask.userCurrentProgress}/${this.newPlayerTask.totalProgress}`\r\n                    })\r\n                }\r\n                else {\r\n                    XMSDK.post({\r\n                        url: UrlConst.wallet_get,\r\n                        data: {\r\n                            id: self.newPlayerTask.withdrawItemVo.id,\r\n                            type: 0\r\n                        },\r\n                        onSuccess: res => {\r\n                            if (res.code === 0) {\r\n                                if(!this.isValid){\r\n                                    return;\r\n                                }\r\n\r\n                                AssistCtr.showToastTip(`你的提现已申请成功，稍后可在微信查看是否转账成功。`);\r\n                                util.addCoin(-self.newPlayerTask.withdrawItemVo.point);\r\n                                this.closePage();\r\n                                cc.game.emit(NameTs.Game_CloseNewPlayerTask);\r\n\r\n                                TrackMgr.newcomer_mission({\r\n                                    activity_state: `点击「领现金」按钮`,\r\n                                    receiving_status: true,\r\n                                    withdrawal_progress: `提现进度:${this.newPlayerTask.userCurrentProgress}/${this.newPlayerTask.totalProgress}`\r\n                                })\r\n                            }\r\n                            else {\r\n                                let str = `${res.message}`;\r\n                                AssistCtr.showToastTip(str);\r\n                                TrackMgr.newcomer_mission({\r\n                                    activity_state: `点击「领现金」按钮`,\r\n                                    receiving_status: false,\r\n                                    withdrawal_progress: `提现进度:${this.newPlayerTask.userCurrentProgress}/${this.newPlayerTask.totalProgress}`\r\n                                })\r\n                            }\r\n                        },\r\n                        onFail: err => {\r\n\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            else {\r\n                TrackMgr.newcomer_mission({\r\n                    activity_state: `点击「领现金」按钮`,\r\n                    receiving_status: false,\r\n                    withdrawal_progress: `提现进度:${this.newPlayerTask.userCurrentProgress}/${this.newPlayerTask.totalProgress}`\r\n                })\r\n\r\n                AssistCtr.showToastTip(\"进度条未满,不能提现5元现金\")\r\n            }\r\n        }\r\n    }\r\n\r\n    wxSucFun() {\r\n        AssistCtr.showToastTip(\"绑定成功\");\r\n        this.updateProGress(null);\r\n    }\r\n\r\n    clickClose() {\r\n        TrackMgr.AppDialogClick_hcdg({\r\n            dialog_name_hcdg: `新人任务`,\r\n            ck_module: `关闭`\r\n        })\r\n\r\n        this.closePage();\r\n    }\r\n}\r\n"]}