{"version":3,"sources":["assets\\Script\\pop\\gamePassReward2.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AssistCtr } from \"../Assist/AssistCtr\";\nimport baseTs from \"../base/baseTs\";\nimport { AdPosition } from \"../common/AdPosition\";\nimport { gameNumerical, propType } from \"../common/faceTs\";\nimport NameTs from \"../common/NameTs\";\nimport pageTs from \"../common/pageTs\";\nimport { UrlConst } from \"../server/UrlConst\";\nimport AdController from \"../server/xmsdk_cocos/AD/AdController\";\nimport soundController from \"../soundController\";\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\nimport tool from \"../util/tool\";\nimport util from \"../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class gamePassReward2 extends baseTs {\n\n    @property({type:cc.Label,displayName:\"金币\"})\n    private rewardLabel1:cc.Label = null;\n\n    \n    @property({type:cc.Label,displayName:\"翻倍金币\"})\n    private rewardLabel2:cc.Label = null;\n    \n    @property({type:cc.Node,displayName:\"信息流\"})\n    private feed_node:cc.Node = null;\n\n    \n    @property({type:cc.Node,displayName:\"倍数\"})\n    private multipleNode:cc.Node = null;\n\n    private coin:any;\n\n    private xinxiliui:number;\n\n    onLoad () {\n\n        cc.tween(this.multipleNode).repeatForever(\n            cc.tween().to(.3,{angle:10}).to(.2,{angle:0})\n        ).start();\n        \n    }    \n    /**\n     * \n     */\n    init(){\n        //获取用户行为4\n        this.coin = tool.GetArrData(\"type\", 4, util.behaviorRewardVoList).reward||150;\n\n        this.rewardLabel1.string = \"+\"+this.coin+\"红包币\";\n        \n        this.rewardLabel2.string = this.coin*10+\"\";\n\n        AdController.loadInfoAd(AdPosition.GamePassCoinView, 636, this.feed_node);//636:feedNode信息流容器节点的宽度\n\n        \n\n        TrackMgr.AppBuyProductDialog_hcdg({\n            dialog_name_hcdg: \"通关成功\",\n        });\n\n\n\n        util.getdataStr({\n            url:UrlConst.gameLevelIndex,\n            success:(data)=>{\n                if(!this.isValid){\n                    return;\n                }\n\t\t\t\tconsole.log(\"设置一次----------------------------------------------------------\" + JSON.stringify( data.mapConfig ) )\n               // util.behaviorRewardVoList = data.behaviorRewardVoList\n\t\t\t   util.getnowmapdata();\n                util.mapConfig = data.mapConfig;\n              \n            }\n        })\n\n    }\n\n    start () {\n\n    }\n\n    /**\n     * 获取\n     */\n    getBtn(str,e){\n\n        let isVideo:boolean = e==1;\n        soundController.singleton.clickAudio();\n\n        let successFn:Function  = ()=>{\n\n            let coin:number = this.coin*(isVideo?10:1);\n\n            cc.game.emit(NameTs.Game_Effect_coin,{node:this.node,value:coin,num:10});\n            util.addTermCoin(coin);\n    \n            this.closeBtn();\n    \n            cc.game.emit(NameTs.Game_Start);\n\n            \n\n        }\n\n        if(isVideo){\n\n            AdController.loadAd(AdPosition.GamePassReward,()=>{\n                \n                successFn();\n            }, () => {\n                AssistCtr.showToastTip(\"加载视频失败，请稍后！\");\n            });\n\n            TrackMgr.AppDialogClick_hcdg({\n                dialog_name_hcdg: \"通关成功\",\n                ck_module:\"多倍领取\",\n                active_ad_hcdg:\"激励视频\"\n            }); \n\n        }else{\n            successFn();\n            TrackMgr.AppDialogClick_hcdg({\n                dialog_name_hcdg: \"通关成功\",\n                ck_module:\"领取\",\n            }); \n        }\n\n        \n        \n        \n    }\n\n    /**\n     * 关闭\n     */\n    closeBtn(){\n        soundController.singleton.clickAudio();\n        this.closePage();\n\n        TrackMgr.AppDialogClick_hcdg({\n            dialog_name_hcdg: \"通关成功\",\n            ck_module:\"点击领取\",\n        })\n        \n    }\n\n    onEnable() {\n       \n    }\n\n\n    onDisable() {\n\n        AdController.hideInfoAd(AdPosition.GamePassCoinView);\n\n    }\n\n    // update (dt) {}\n}\n"]}