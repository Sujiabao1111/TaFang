{"version":3,"sources":["assets\\Script\\pop\\gamePass.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import baseTs from \"../base/baseTs\";\nimport { AdPosition } from \"../common/AdPosition\";\nimport { customsInfo } from \"../common/faceTs\";\nimport NameTs from \"../common/NameTs\";\nimport pageTs from \"../common/pageTs\";\nimport { UrlConst } from \"../server/UrlConst\";\nimport AdController from \"../server/xmsdk_cocos/AD/AdController\";\nimport soundController from \"../soundController\";\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\nimport tool from \"../util/tool\";\nimport util from \"../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class gamePass extends baseTs {\n\n\n    // @property({type:cc.Label,displayName:\"倒计时Label\"})\n    // private djsLabel:cc.Label = null;\n\n    @property({type:cc.Label,displayName:\"关卡\"})\n    private customLabel:cc.Label = null;\n    // private djsNum:number = 3;\n\n    // @property({type:cc.Node,displayName:\"光\"})\n    // private light:cc.Node = null;\n\n\n    @property({type:cc.Node,displayName:\"信息流\"})\n    private feed_node:cc.Node = null;\n    start () {\n\n        // cc.tween(this.light).repeatForever(\n        //     cc.tween().to(1,{scale:1}).to(1,{scale:1.1})\n        // ).start();\n\n    }\n\n    /**\n     * 初始化\n     */\n    init(){\n\n  \n        let text = null;\n        for(let i =0;i<util.behaviorRewardVoList.length;i++){\n            let item = util.behaviorRewardVoList[i];\n            console.log(item.rewardType,'item.rewardType')\n            switch(Number(item.rewardType)){\n\n                case 1:\n                    text = \"道具\"\n                    break;\n                case 2:\n                    text = \"地块\"\n                    break;\n                case 3:\n                    text = \"金币\"\n                    break;\n\n            }\n\n            text += text +\"+\"; \n\n        }\n        \n  \n        \n        let customs:customsInfo = util.userData.customs;\n        this.customLabel.string = \"关卡\"+customs.big+\"-\"+customs.small;\n\n        util.getdataStr({\n            url:UrlConst.gameLevelIndex,\n            success:(data)=>{\n                if(!this.isValid){\n                    return;\n                }\nconsole.log(\"设置er次----------------------------------------------------------\" + JSON.stringify( data.mapConfig ) )\n                //util.behaviorRewardVoList = data.behaviorRewardVoList;\n               // util.mapConfig = data.mapConfig;\n\t\t\t   util.getnowmapdata();\n                util.gameLevelPassRewardNextVoList = data.gameLevelPassRewardVoList||[];\n                console.log(tool.GetArrData(\"type\",4,data.behaviorRewardVoList).reward,data.behaviorRewardVoList,'tool.GetArrData(\"type\",4,data.behaviorRewardVoList).reward')\n                util.gameLevelPassRewardNextVoList.push({\n                    rewardType:2,\n                    rewardValue:tool.GetArrData(\"type\",4,data.behaviorRewardVoList).reward\n                });\n            }\n        })\n\n    }\n\n    /**\n     * 关闭页面\n     */\n    close(){\n        soundController.singleton.clickAudio();\n        \n        this.closePage();\n        if(util.gameLevelPassRewardVoList.length>0){\n            // for(let i = 0;i<util.gameLevelPassRewardVoList.length;i++){\n                this.showPage(pageTs.pageName.GamePassReward);\n            // }\n        }else{\n            // this.showPage(pageTs.pageName.GameStart);\n            cc.game.emit(NameTs.Game_Start);\n        }\n        TrackMgr.AppDialogClick_hcdg({\n            dialog_name_hcdg: \"通关成功\",\n            ck_module:\"点击领取\",\n        })\n    }\n\n    onEnable() {\n        AdController.loadInfoAd(AdPosition.GamePssView, 636, this.feed_node);//636:feedNode信息流容器节点的宽度\n        \n        // if(util.adPreObj[AdPosition.GamePssView]){\n        //     util.preloadAd(AdPosition.GamePssView,true);\n        // }\n\n        if(!util.adPreObj[AdPosition.GamePassCoinView]){\n            util.preloadAd(AdPosition.GamePassCoinView,true);\n        }\n\n        if(!util.adPreObj[AdPosition.UnlcokPropView]){\n            util.preloadAd(AdPosition.UnlcokPropView,true);\n        }\n    }\n\n\n    onDisable() {\n        AdController.hideInfoAd(AdPosition.GamePssView);\n    }\n\n\n    // update (dt) {}\n}\n"]}