{"version":3,"sources":["assets\\Script\\pop\\gameSign.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import baseTs from \"../base/baseTs\";\nimport { AdPosition } from \"../common/AdPosition\";\nimport NameTs from \"../common/NameTs\";\nimport pageTs from \"../common/pageTs\";\nimport { UrlConst } from \"../server/UrlConst\";\nimport AdController from \"../server/xmsdk_cocos/AD/AdController\";\nimport XMSDK from \"../server/xmsdk_cocos/XMSDK\";\nimport soundController from \"../soundController\";\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\nimport tool from \"../util/tool\";\nimport util from \"../util/util\";\n\nexport interface signRewardData {\n    keyId: number\t            //type 为 [1-道具] 时表示 [PropsId], 为 [2-点值] 时表示 [PointType]\n    rewardPlusValue: number\t    //高级奖励数量\n    rewardValue: number\t        //普通奖励数量\n    type: number\t            //类型: 1-道具, 2-点值\n}\n\nexport interface signItemData {\n    rewardList: Array<signRewardData>    //奖励\n    state: number                        //状态: 1-普通奖励, 2-高级奖励\n}\n\n\nexport interface signData {\n    list: Array<signItemData>   //每日签到奖励列表\n    signDays: number\t        //签到天数\n    todayChecked: boolean,\t    //今日已签到\n    userPeriod: number,\t        //用户期数\n}\n\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class gameSign extends baseTs {\n\n    @property({ type: cc.Node, tooltip: \"\" })\n    layoutSignItem: cc.Node = null;\n\n    @property(cc.Node)\n    btnsNode: cc.Node = null;\n\n    @property(cc.Node)\n    btn_close: cc.Node = null;\n\n    @property(cc.Toggle)\n    check_toggle: cc.Toggle = null;\n\n    @property(cc.Label)\n    label_check: cc.Label = null;\n\n    @property(cc.Node)\n    feed_node: cc.Node = null;\n\n    data: signData = null;\n    currentDay: number = null;\n\n    private isInsert:boolean = false;\n\n    onEnable() {\n       \n        TrackMgr.AppBuyProductDialog_hcdg({\n            dialog_name_hcdg: `签到弹窗`,\n        })        \n       \n    }\n\n    init(data){\n\t\n        if(data){\n            this.setData(data)\n        }\n\n        this.isInsert = Math.random()>.5;\n\n        if(this.isInsert){\n            if(!util.adPreObj[AdPosition.SignAwardInsert]){\n                util.preloadAd(AdPosition.SignAwardInsert);\n            }\n        }\n        if(!util.adPreObj[AdPosition.VideoSignDouble]){\n            util.preloadAd(AdPosition.VideoSignDouble);\n        }\n\n        // tool.changeUnit(100000,1);\n\n        if(!util.adPreObj[AdPosition.InfoSignRewardView]){\n            util.preloadAd(AdPosition.InfoSignRewardView,true);\n        }\n\n    }\n    \n    \n\n\n    onDisable() {        \n        // AdController.hideInfoAd(AdPosition.InfoSignView);           \n        \n        // if(!util.adPreObj[AdPosition.InfoSignView]){\n        //     util.preloadAd(AdPosition.InfoSignView,true)\n        // }        \n    }\n\n    isTodaySignOk() {\n        return this.btnsNode.getChildByName(`btn_has`).active == true;\n    }\n\n    setData(data: signData) {\n        this.data = data;\n\t\t//console.log(\"#######################setData : \" + JSON.stringify(data))\n        this.currentDay = this.data.todayChecked ? this.data.signDays - 1 : this.data.signDays\n\n        for (let m in this.data.list) {                         //签到item内容更新\n            let item = this.data.list[m]\n            let sign_list = this.layoutSignItem.children;\n            if (item && sign_list[m]) {\n                let script = sign_list[m].getComponent(\"SignModel\")\n                if (this.currentDay == parseInt(m)) {\n                    if (this.data.list[m].rewardList && this.data.list[m].rewardList[0]) {\n                        this.label_check.string = \"观看视频额外领取一份\";\n                    }\n                    if (item.rewardList[0]) {\n                        //this.lable_otherNum.string = item.rewardList[0].rewardPlusValue - item.rewardList[0].rewardValue + \"\";\n                    }\n                }\n                let hasGain = Number(m) < this.data.signDays\n                script && script.init({\n                    day: Number(m) + 1,\n                    rewardList: item.rewardList,\n                    isCurrent: this.currentDay == parseInt(m),\n                    hasGain: hasGain,\n                    showDouble: hasGain ? item.state == 2 : this.check_toggle.isChecked,\n                    userPeriod: this.data.userPeriod,\n                })\n            }\n        }\n\n        let delay = 0;\n        if (!this.data.todayChecked) {\n            delay = 2\n        }\n        this.scheduleOnce(() => {\n            this.btn_close.active = true\n        }, delay)\n\n        this.setBtnsVis();\n    }\n\n    setBtnsVis() {\n        let showBtnName = \"\";\n        if (this.data.todayChecked) {      //是否已经签到\n            showBtnName = `btn_has`\n        }\n        // else if (this.data.todayChecked && (this.data.list[this.currentDay] && this.data.list[this.currentDay].state == 1)) {     //是否再领一次\n        //     showBtnName = `btn_againGet`;\n        // }\n        else if (!this.data.todayChecked && !this.check_toggle.isChecked) {           //是否普通签到\n            showBtnName = `btn_single`;\n\n            TrackMgr.AppBuyProductDialog_hcdg({\n                dialog_name_hcdg:\"单倍签到弹窗\"            \n            })  \n        }\n        else if (!this.data.todayChecked && this.check_toggle.isChecked) {            //是否视频签到\n            showBtnName = `btn_double`\n\n            TrackMgr.AppBuyProductDialog_hcdg({\n                dialog_name_hcdg:\"双倍签到弹窗\"\n            })\n        }\n\n        let btns = this.btnsNode.children;\n        for (let i = 0; i < btns.length; i++) {\n            btns[i].active = false;\n        }\n        if (this.btnsNode.getChildByName(showBtnName)) {\n            this.btnsNode.getChildByName(showBtnName).active = true;\n            //预加载离线\n            // if(!util.adPreObj[AdPosition.Offline]){\n            //     util.preloadAd(AdPosition.Offline);\n            // }\n            // if(!util.adPreObj[AdPosition.OfflineView]){\n            //     util.preloadAd(AdPosition.OfflineView,true);\n            // }\n        }\n    }\n\n    clickSingle() {\n        TrackMgr.AppDialogClick_hcdg({            \n            dialog_name_hcdg: `签到弹窗`,\n            ck_module: \"普通领取\"\n        })\n        this.closePage();\n        this.openSignReward(1);\n\n        \n        \n    }\n\n    clickDouble() {\n        TrackMgr.AppDialogClick_hcdg({            \n            dialog_name_hcdg: `签到弹窗`,\n            ck_module: \"双倍领取\",\n            active_ad_hcdg:\"激励视频\"\n        })\n\n        // XMSDK.post({\n        //     url: UrlConst.sign_videoGet,\n        //     onSuccess: res => {\n        //         if (res.code === 0) {\n        //             TrackMgr.Signin_new({\n        //                 get_state: true,\n        //                 get_type: \"双倍领取\",                                                \n        //                 get_days: `第${this.data.signDays + 1}天`,                        \n        //             })\n\n        // AdController.loadAd(AdPosition.VideoSignDouble, (res) => {\n        //     util.preloadAd(AdPosition.VideoSignDouble);      \n        //     this.openSignReward(2);    \n        //     this.closePage();\n        // })\n\n        this.openSignReward(2);    \n        this.closePage();\n        //         }\n        //         else {\n        //             TrackMgr.Signin_new({\n        //                 get_state: false,\n        //                 get_type: \"双倍领取\",                                                \n        //                 get_days: `第${this.data.signDays + 1}天`,                        \n        //             })\n        //         }\n        //     },\n        //     onFail: err => {\n\n        //     }\n        // }\n        // )\n    }\n\n    clickAgainGet() {\n        // TrackMgr.AppDialogClick_hcdg({\n        //     dialog_page: \"游戏中\",\n        //     dialog_name_hcdg: `签到弹窗`,\n        //     ck_module: \"额外领取\"\n        // })\n\n        // AdController.loadAd(AdPosition.VideoAgainGet, (res) => {\n        //     XMSDK.post({\n        //         url: UrlConst.sign_extraGet,\n        //         onSuccess: res => {\n        //             if (res.code === 0) {\n        //                 this.closePage();\n\n        //                 // TrackMgr.Signin_new({\n        //                 //     get_state: true,\n        //                 //     get_type: \"额外领取\",\n        //                 //     activity_state: \"点击额外领取\",\n        //                 //     get_coin_num: this.data.list[this.currentDay].rewardList[0].rewardPlusValue - this.data.list[this.currentDay].rewardList[0].rewardValue,\n        //                 //     get_days: `第${this.data.signDays + 1}天`,\n        //                 //     rounds: this.data.userPeriod + 1\n        //                 // })\n\n        //                 this.openSignReward(3);\n\n        //                 // TrackMgr.Signin_new({\n        //                 //     get_state: true,\n        //                 //     get_type: \"额外领取\",\n        //                 //     activity_state: \"领取成功\",\n        //                 //     get_coin_num: this.data.list[this.currentDay].rewardList[0].rewardPlusValue - this.data.list[this.currentDay].rewardList[0].rewardValue,\n        //                 //     get_days: `第${this.data.signDays + 1}天`,\n        //                 //     rounds: this.data.userPeriod + 1\n        //                 // })\n        //             }\n        //             else {\n        //                 // TrackMgr.Signin_new({\n        //                 //     get_state: false,\n        //                 //     get_type: \"额外领取\",\n        //                 //     activity_state: \"点击额外领取\",\n        //                 //     get_coin_num: this.data.list[this.currentDay].rewardList[0].rewardPlusValue - this.data.list[this.currentDay].rewardList[0].rewardValue,\n        //                 //     get_days: `第${this.data.signDays + 1}天`,\n        //                 //     rounds: this.data.userPeriod + 1\n        //                 // })\n        //             }\n        //         },\n        //         onFail: err => {\n\n        //         }\n        //     }\n        //     )\n        // })\n    }\n\n    openSignReward(type) {\n        // UIFunc.openUI(ActivityPannelName.PannelReward, (node, script: PannelReward) => {\n        //     if (script) {\n        //         script.init(this.data.list[this.currentDay], this.currentDay, type);\n        //     }\n        // })        \n        soundController.singleton.clickAudio();\n\n        TrackMgr.AppBuyProductDialog_hcdg({\n            dialog_name_hcdg:\"签到成功弹窗\"\n        })\n\n        let data = {\n            list: this.data.list[this.currentDay],\n            currentDay: this.currentDay,\n            type: type,\n            signDays:this.data.signDays+1\n        }\n\n        if(this.data && this.data[`callBack`]){            \n            data[`callBack`] = this.data[`callBack`]\n        }        \n\n        cc.game.emit(NameTs.Game_Pop_Open, {\n            name: pageTs.pageName.GameSignReward,\n            data: data\n        });\n    }\n\n    clickClose() {\n        soundController.singleton.clickAudio();\n\n        this.closePage();\n\n        TrackMgr.AppDialogClick_hcdg({            \n            dialog_name_hcdg: `签到弹窗`,\n            ck_module: \"关闭\"\n        })\n\n        if(this.data && this.data[`callBack`]){\n            this.data[`callBack`]();\n        }\n\n        if(this.isInsert){\n            AdController.loadAd(AdPosition.SignAwardInsert, ()=>{console.log(\"关闭签到奖励插屏广告播放完成\")});\n            if(util.adPreObj[AdPosition.SignAwardInsert]){\n                util.preloadAd(AdPosition.SignAwardInsert);\n            }\n        }\n\n    }\n\n    cllickCheckMark() {\n        this.setData(this.data);\n\n        if (!this.check_toggle.isChecked) {\n            TrackMgr.AppDialogClick_hcdg({                \n                dialog_name_hcdg: `签到弹窗`,\n                ck_module: \"取消勾选\"\n            })\n        }\n    }\n}\n"]}