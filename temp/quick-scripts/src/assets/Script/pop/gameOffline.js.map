{"version":3,"sources":["assets\\Script\\pop\\gameOffline.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AssistCtr } from \"../Assist/AssistCtr\";\nimport baseTs from \"../base/baseTs\";\nimport { AdPosition } from \"../common/AdPosition\";\nimport { customsInfo } from \"../common/faceTs\";\nimport NameTs from \"../common/NameTs\";\nimport pageTs from \"../common/pageTs\";\nimport { UrlConst } from \"../server/UrlConst\";\nimport AdController from \"../server/xmsdk_cocos/AD/AdController\";\nimport soundController from \"../soundController\";\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\nimport util from \"../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class gameOffline extends baseTs {\n\n\n    @property({type:cc.Label,displayName:\"获得金币\"})\n    private coinLabel:cc.Label = null;\n\n    @property({type:cc.Label,displayName:\"自己一共多少金币\"})\n    private coinAllLabel:cc.Label = null;\n\n    @property({type:cc.Label,displayName:\"兑换rmb\"})\n    private rmbLabel:cc.Label = null;\n\n    @property({type:cc.Node,displayName:\"勾选\"})\n    private videoIcon:cc.Node = null;\n\n    // @property({type:cc.Node,displayName:\"光\"})\n    // private light:cc.Node = null;\n\n\n    @property({type:cc.Node,displayName:\"信息流\"})\n    private feed_node:cc.Node = null;\n\n    private coin:number = null; //单倍\n    private coin2:number = 0;//多倍\n\n    private isVideo:boolean = true;\n    start () {\n\n        // cc.tween(this.light).repeatForever(\n        //     cc.tween().to(1,{scale:1}).to(1,{scale:1.1})\n        // ).start();\n\n    }\n\n    /**\n     * 初始化\n     */\n    init(){\n       \n        this.coin = util.userData.offlineIncome.reward;\n\n        this.coin2 = util.userData.offlineIncome.multipleReward;\n\n        this.coinLabel.string = \"+\"+this.coin2+\"红包币\";\n\n        this.coinAllLabel.string = String(util.userData.coin);\n\n        this.rmbLabel.string = \"= \"+util.userData.coin/10000+\"元\";\n\n        TrackMgr.AppBuyProductDialog_hcdg({\n            dialog_name_hcdg: \"离线金币弹窗\"\n        });\n\n    }\n\n\n    onEnable() {\n        AdController.loadInfoAd(AdPosition.OfflineView, 636, this.feed_node);//636:feedNode信息流容器节点的宽度   \n        // if(util.adPreObj[AdPosition.OfflineView]){\n        //    util.preloadAd(AdPosition.OfflineView,true);\n        // } \n    }\n\n\n    onDisable() {\n        AdController.hideInfoAd(AdPosition.OfflineView);\n    }\n\n    /**获取 */\n    getBtn(){\n        soundController.singleton.clickAudio();\n        let coin:number = this.isVideo?this.coin2:this.coin;\n        let successFn = ()=>{\n            util.post({\n                url: this.isVideo?UrlConst.getOfflineDouble:UrlConst.getOfflineCommon,\n                success: (res) => {\n                    if(!this.isValid){\n                        return;\n                    }\n\n                    cc.game.emit(NameTs.Game_Effect_coin,{node:this.node,value:coin,num:10});\n                    AssistCtr.showToastTip(\"获得\"+coin+\"红包币\");\n                    this.closePage();\n                    // this.showPage(pageTs.pageName.GameStart);\n                    cc.game.emit(NameTs.Game_Start);\n                },\n                fail:(res)=>{\n                    AssistCtr.showToastTip(\"领取失败！\");\n                    this.closePage();\n                }\n            });\n        }\n        if(this.isVideo){\n            AdController.loadAd(AdPosition.Offline,()=>{\n                successFn();\n                // util.preloadAd(AdPosition.Offline);\n            }, () => {\n                AssistCtr.showToastTip(\"加载视频失败，请稍后！\");\n            });\n\n            TrackMgr.AppDialogClick_hcdg({\n                dialog_name_hcdg: \"离线金币弹窗\",\n                ck_module:\"翻倍领取\",\n                active_ad_hcdg:\"激励视频\"\n            });\n        }else{\n            successFn();\n            TrackMgr.AppDialogClick_hcdg({\n                dialog_name_hcdg: \"离线金币弹窗\",\n                ck_module:\"直接收下\",\n            });\n        }\n        \n\n\n    }\n\n    /**选择*/\n    selectBtn(){\n\n        soundController.singleton.clickAudio();\n\n        this.isVideo = !this.isVideo;\n\n        this.videoIcon.active = this.isVideo;\n\n        this.coinLabel.string = \"+\"+(this.isVideo?this.coin2:this.coin)+\"金币\";\n    }\n\n\n    // update (dt) {}\n}\n"]}