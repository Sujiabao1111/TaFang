{"version":3,"sources":["assets\\Script\\model\\Marquee.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAqC,2BAAY;IAAjD;QAAA,qEAkDC;QA/CG,iBAAW,GAAY,IAAI,CAAC;QAG5B,uBAAiB,GAAY,IAAI,CAAC;;IA4CtC,CAAC;IAzCG,uBAAK,GAAL;IAEA,CAAC;IAED,mCAAiB,GAAjB,UAAkB,QAAQ;QAA1B,iBAoCC;QAnCG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;QACrC,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAA;QAEvB,IAAG,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAC;YACpB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9B;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YACvC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAY,EAAE,KAAK;gBAC7B,IAAI,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC;gBACzD,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAM,IAAI,CAAC,GAAG,WAAM,IAAI,CAAC,IAAM,CAAC;gBAC5E,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC1B,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACvC,WAAW,IAAI,WAAW,CAAC,MAAM,CAAC;YACtC,CAAC,CAAC,CAAC;SACN;QACD,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;aACnC,aAAa,CACV,EAAE,CAAC,KAAK,EAAE;aACL,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,WAAW,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;aAC3C,KAAK,CAAC,CAAC,CAAC;aACR,IAAI,CAAC;YACF,KAAK,EAAE,CAAC;YACR,IAAI,KAAK,IAAI,KAAI,CAAC,WAAW,CAAC,aAAa,GAAG,CAAC,EAAE;gBAC7C,KAAK,GAAG,CAAC,CAAC;gBACV,KAAI,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;aAC3B;QACL,CAAC,CAAC,CACT,CAAC;QACN,IAAI,CAAC,YAAY,CAAC;YACd,OAAO,CAAC,KAAK,EAAE,CAAC;QACpB,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;IA9CD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACU;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACgB;IANjB,OAAO;QAD3B,OAAO;OACa,OAAO,CAkD3B;IAAD,cAAC;CAlDD,AAkDC,CAlDoC,EAAE,CAAC,SAAS,GAkDhD;kBAlDoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["import { AssistCtr } from \"../Assist/AssistCtr\";\nimport { marquee } from \"../pop/gameKingPao\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Marquee extends cc.Component {\n\n    @property(cc.Node)\n    marqueeList: cc.Node = null;\n\n    @property(cc.Node)\n    lable_marqueeItem: cc.Node = null;\n\n\n    start () {\n\n    }    \n\n    updateMarqueeList(strArray) {\n        this.marqueeList.stopAllActions();\n        this.marqueeList.removeAllChildren();\n        let totalHeight = 0;\n        this.marqueeList.y = 27\n\n        if(strArray.length == 2){\n            strArray.push(strArray[0]);\n        }        \n\n        if (this.marqueeList.children.length == 0) {\n            strArray.map((item:marquee, index) => {\n                let marqueeItem = cc.instantiate(this.lable_marqueeItem);\n                marqueeItem.getComponent(cc.RichText).string = `${item.msg}   ${item.time}`;\n                marqueeItem.active = true;\n                this.marqueeList.addChild(marqueeItem);\n                totalHeight += marqueeItem.height;\n            });\n        }\n        let count = 0;\n        let running = cc.tween(this.marqueeList)\n            .repeatForever(\n                cc.tween()\n                    .by(1, { y: totalHeight / strArray.length })\n                    .delay(2)\n                    .call(() => {\n                        count++;\n                        if (count >= this.marqueeList.childrenCount - 1) {\n                            count = 0;\n                            this.marqueeList.y = 27;\n                        }\n                    })\n            );\n        this.scheduleOnce(() => {\n            running.start();\n        }, 0);\n    }\n}\n"]}