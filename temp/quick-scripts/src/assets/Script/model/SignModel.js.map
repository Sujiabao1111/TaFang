{"version":3,"sources":["assets\\Script\\model\\SignModel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import util from \"../util/util\";\n\nlet propPacakgeName = [\"\", \"开局道具包\", \"局内道具包\"]\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PageSignReward extends cc.Component{\n\n    @property(cc.Node)\n    img_single:cc.Node = null;\n\n    @property(cc.Node)\n    img_double:cc.Node = null;\n    \n    @property(cc.Label)\n    lable_reward:cc.Label = null;\n\n    @property(cc.Label)\n    lable_propNum:cc.Label = null;\n\n    @property(cc.SpriteFrame)\n    bg_image_list:Array<cc.SpriteFrame> = [];\n\n    @property(cc.Sprite)\n    img_frame:cc.Sprite = null;\n\n    @property(cc.Label)\n    day_label:cc.Label = null;\n\n    @property(cc.Node)\n    check_node:cc.Node = null;\n\n    @property(cc.Node)\n    img_signMask:cc.Node = null;\n\n    day = null;\n    data = null;\n    isPropPackage = null;\n    rewardList = null;\n    showDouble = null;\n    hasGain = null;\n    isCurrent = null;\n    isSeven = null;    \n    isNewGain = null;\n\n    init(data) {\n        this.day = data.day\n        this.data = data\n        this.isPropPackage = data.isPropPackage\n        this.rewardList = data.rewardList\n        this.showDouble = data.showDouble\n        this.hasGain = data.hasGain\n        this.isCurrent = data.isCurrent\n        this.isSeven = data.day == 7        \n        this.day_label.string = this.day; \n        //this.img_prop.node.opacity = this.hasGain ? 153 : 255\n        this.updateUI()\n    }\n\n    updateIsNewGain() {\n        this.isNewGain = true\n    }\n\n    updateUI() {     \n        if(this.img_single && this.img_double){\n            this.img_single.active = false;\n            this.img_double.active = false;\n        }\n\n        if (this.rewardList && this.rewardList[0]) {\n            let item = this.rewardList[0]\n            let isPoint = false\n            if (this.isPropPackage) {\n                this.lable_reward.string = propPacakgeName[this.isPropPackage]\n                //this.img_prop.spriteFrame = this.pacakge_image_list[this.isPropPackage]\n                this.lable_propNum.string = this.showDouble ? \"x2\" : \"\"\n                this.lable_propNum.node.active = Number(this.lable_propNum.string) > 1\n                this.lable_reward.fontSize = this.day == 7 ? 28 : 20;\n            } else {\n                if(!this.isSeven && this.day != 3){\n                    // AssistCtr.findPropSprite(item.type, item.keyId, (spr)=>{\n                    //     this.img_prop.spriteFrame = spr;\n                    // })\n                }\n                let reward_prop_text = \"\"\n                if (item.type == 1) {\n                    reward_prop_text = this.showDouble ? item.rewardPlusValue : item.rewardValue\n                    reward_prop_text = Number(reward_prop_text) > 1 ? \"x\" + reward_prop_text : \"\"                    \n                    this.lable_propNum.string = reward_prop_text\n                    this.lable_reward.fontSize = 20\n                } else {\n                    if(this.day != 3 && this.day != 7){\n                        this.lable_reward.string = this.showDouble ? item.rewardPlusValue : item.rewardValue;\n                    }                    \n                    else{\n                        let gold = this.showDouble ? item.rewardPlusValue : item.rewardValue; \n                        // this.lable_reward.string = `${gold/util.userData.exchangeRate}元`;     \n                        this.lable_reward.string = gold;     \n                    }\n                    if(this.isSeven || this.day == 3){\n                        //this.lable_reward.string = `${parseInt(this.lable_reward.string) / GameInfo.getChangeRate()}元`;\n                    }                    \n                    this.lable_reward.fontSize = 28\n                    this.lable_propNum.string = reward_prop_text\n                    isPoint = true\n                }\n            }                \n            let reward_prop_color = this.isCurrent && !this.hasGain ? new cc.Color(83, 158, 13, 255) : new cc.Color(197, 102, 0, 255)    \n            \n            let tempColor = new cc.Color();\n            if(this.isCurrent && !this.hasGain){\n                this.lable_reward.node.color = tempColor.fromHEX(`#E50000`);\n            }\n            else{\n                this.lable_reward.node.color = tempColor.fromHEX(`#E6682A`);\n            }            \n\n\n            if (this.isSeven) {\n                if (!this.hasGain && !this.isCurrent) {                    \n                    reward_prop_color = new cc.Color(68, 130, 245, 255)\n                }                           \n            }\n            if (this.lable_reward) {\n                this.lable_reward.node.active = true;\n\n                if(!this.isSeven){\n                    //this.lable_reward.getComponent(cc.LabelOutline).color = reward_color;\n                }                \n            }\n            if (this.lable_propNum) {\n                this.lable_propNum.node.active = !isPoint\n                this.lable_propNum.getComponent(cc.LabelOutline).color = reward_prop_color\n            }\n\n            \n            // if (this.data.userPeriod >= 1 && (this.isSeven || this.day == 3)) {\n            //     this.lable_reward.string = \"红包币\";                   \n            // }\n\n\n        }\n\n        if(this.img_single && this.img_double && this.day != 3){\n            if(this.showDouble){\n                this.img_double.active = true;\n                //this.img_double.opacity = this.hasGain ? 153 : 255\n    \n                this.img_single.active = false;            \n            }\n            else{\n                this.img_double.active = false;\n    \n                this.img_single.active = true;\n                //this.img_single.opacity = this.hasGain ? 153 : 255\n            }\n        }\n\n\n        this.check_node.active = this.hasGain\n        if (this.hasGain) {\n            if (this.isNewGain) {\n                this.isNewGain = false            \n                this.check_node.active = true;                \n            } \n            //this.node.opacity = 204;\n            this.img_signMask.active = true;\n        } else {\n            this.check_node.active = false;\n            //this.node.opacity = 255;\n            this.img_signMask.active = false;\n        }\n        \n        if (this.img_frame && !this.isSeven) {\n            let key = this.hasGain ? 2 : this.isCurrent ? 1 : 0\n            if(key == 2){\n                this.img_frame.node.opacity = 204;\n            }\n            else{\n                this.img_frame.node.opacity = 255;\n            }\n\n            if(this.hasGain){\n                this.img_frame.spriteFrame = this.bg_image_list[1];\n            }\n            else{\n                this.img_frame.spriteFrame = this.bg_image_list[key];\n            }                    \n        }\n    }\n};\n"]}