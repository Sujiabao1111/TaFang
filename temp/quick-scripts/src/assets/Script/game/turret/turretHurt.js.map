{"version":3,"sources":["assets\\Script\\game\\turret\\turretHurt.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAyC;AACzC,wCAAmC;AAE7B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAY;IAApD;QAAA,qEAiDC;QA9CG,eAAS,GAAY,IAAI,CAAC;;IA8C9B,CAAC;IA7CG,0BAAK,GAAL;IAGA,CAAC;IAED,SAAS;IACT,yBAAI,GAAJ,UAAK,IAAI;QAAT,iBA4BC;QA3BG,QAAQ;QACR,IAAI,GAAG,GAAW,IAAI,CAAC,GAAG,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAE3B,uBAAuB;QACvB,2BAA2B;QAC3B,sEAAsE;QACtE,0BAA0B;QAC1B,cAAc;QAEd,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,cAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEpD,IAAI,aAAa,GAAW,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,EAAE,GAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,EAAE,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC,EAAC,GAAG,CAAC,CAAC,GAAC,GAAG,CAAC,CAAC;QAChF,IAAI,SAAS,GAAW,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,IAAI,IAAI,GAAW,EAAE,CAAC,EAAE,EAAE,CAAC;QAC3B,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAC,cAAI,CAAC,SAAS,CAAC,CAAC,EAAC,GAAG,CAAC,GAAC,GAAG,CAAC,GAAC,EAAE,CAAC;QACtE,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAC,EAAE,CAAE;QACzB,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACxB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CACxB,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAC,GAAG,EAAC,IAAI,EAAC,IAAI,CAAC,EACpC,EAAE,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,EAAC,OAAO,EAAC,CAAC,EAAC,CAAC,CAC/B,CAAC,IAAI,CAAC;YACH,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IAIf,CAAC;IAED,UAAU;IACV,gCAAW,GAAX;QACI,MAAM;QACN,uBAAuB;QACvB,gCAAgC;QAChC,SAAS;QACT,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,gBAAgB,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpD,CAAC;IA5CD;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,CAAC;iDACjB;IAHT,UAAU;QAD9B,OAAO;OACa,UAAU,CAiD9B;IAAD,iBAAC;CAjDD,AAiDC,CAjDuC,EAAE,CAAC,SAAS,GAiDnD;kBAjDoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import NameTs from \"../../common/NameTs\";\nimport tool from \"../../util/tool\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class turretHurt extends cc.Component {\n\n    @property({type:cc.Label,displayName:\"数值\"})\n    hurtLabel:cc.Label = null;\n    start () {\n        \n\n    }\n\n    /**初始化 */\n    init(data){\n        //设置出生位置\n        let pos:cc.Vec2 = data.pos;\n        this.node.setPosition(pos);\n        \n        // this.node.scale = 0;\n        // this.node.opacity = 255;\n        // cc.tween(this.node).to(.1,{scale:1}).by(.3,{x:20,y:-10}).call(()=>{\n        //     this.destroyhurt();\n        // }).start();\n        \n        this.hurtLabel.string = tool.changeUnit(data.value);\n\n        let coinParentPos:cc.Vec2 = cc.v2(pos.x+(80*(Math.random()>.5?1:-1)),pos.y-200);\n        let centerPos:cc.Vec2 = cc.Vec2.clone(pos.add(coinParentPos).div(2));\n        let pos1:cc.Vec2 = cc.v2();\n        pos1.x = centerPos.x + Math.cos(Math.PI*tool.GetRandom(0,360)/180)*50;\n        pos1.y = centerPos.y-50 ;\n        this.node.opacity = 255;\n        cc.tween(this.node).parallel(\n            cc.tween().bezierTo(1,pos,pos1,pos1),\n            cc.tween().to(1,{opacity:0})\n        ).call(()=>{\n            this.destroyhurt();\n        }).start();\n        \n        \n\n    }\n\n    /**回收自己 */\n    destroyhurt(){\n        //回收自己\n        // this.node.destroy();\n        // this.node.removeFromParent();\n        // return\n        cc.game.emit(NameTs.Game_Hurt_Killed,this.node);\n    }\n\n}\n"]}