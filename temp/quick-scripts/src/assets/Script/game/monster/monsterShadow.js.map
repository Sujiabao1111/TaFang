{"version":3,"sources":["assets\\Script\\game\\monster\\monsterShadow.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAyC;AACzC,wCAAmC;AAE7B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAY;IAAvD;QAEI,wBAAwB;QAF5B,qEA0DC;QApDG,QAAQ;QACA,gBAAU,GAAW,IAAI,CAAC;;QAkDlC,iBAAiB;IACrB,CAAC;IA7CG,8BAAM,GAAN;IAEA,CAAC;IAED,4BAAI,GAAJ,UAAK,IAAI;QAAT,iBAYC;QAXG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,cAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,GAAC,GAAG,GAAC,cAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,GAAC,WAAW,GAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC1G,IAAI,CAAC,UAAU,GAAG,cAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxD,IAAG,IAAI,CAAC,UAAU,EAAC;YACf,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,CAAC;SACxD;aAAI;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QACD,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAM,CAAC,2BAA2B,GAAC,IAAI,CAAC,WAAW,EAAC,UAAC,IAAI;YAChE,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,EAAC,IAAI,CAAC,CAAC;IACZ,CAAC;IAED,8BAAM,GAAN;QAEI,qDAAqD;QAErD,IAAG,CAAC,IAAI,CAAC,UAAU,EAAC;YAChB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,OAAO;SACV;QACD,mDAAmD;QACnD,IAAI,GAAG,GAAW,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IAExB,CAAC;IAED,6BAAK,GAAL;IAEA,CAAC;IAED,UAAU;IACV,mCAAW,GAAX;QACI,MAAM;QACN,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAM,CAAC,2BAA2B,GAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAClF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,sBAAsB,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1D,CAAC;IAxDgB,aAAa;QADjC,OAAO;OACa,aAAa,CA0DjC;IAAD,oBAAC;CA1DD,AA0DC,CA1D0C,EAAE,CAAC,SAAS,GA0DtD;kBA1DoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import NameTs from \"../../common/NameTs\";\nimport util from \"../../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class monsterShadow extends cc.Component {\n\n    // LIFE-CYCLE CALLBACKS:\n\n    /**数据 */\n    private initData:any;\n    /**目标 */\n    private targetNode:cc.Node = null;\n    \n    /**怪兽名字*/\n    private monsetrName:string;\n \n\n    onLoad(){\n        \n    }\n\n    init(data){\n        this.initData = data;\n        this.monsetrName = util.userData.customs.big+\"-\"+util.userData.customs.small+\"_Monster_\"+this.initData.id;\n        this.targetNode = util.MonsterMap.get(this.monsetrName);\n        if(this.targetNode){\n            this.node.setPosition(this.targetNode.getPosition());\n        }else{\n            this.destroySelf();\n        }\n        cc.game.on(NameTs.Game_Monster_Shadow_Linster+this.monsetrName,(data)=>{\n            this.destroySelf();\n        },this);\n    }\n\n    update(){\n\n        // console.log(this.initData.id,'this.initData.node')\n\n        if(!this.targetNode){\n            this.destroySelf();\n            this.targetNode = null;\n            return;\n        } \n        // console.log(this.targetNode.x,'this.targetNode')\n        let pos:cc.Vec2 = this.targetNode.getPosition();\n        this.node.x = pos.x;\n        this.node.y = pos.y;\n\n    }\n\n    start () {\n\n    }\n\n    /**回收自己 */\n    destroySelf(){\n        //回收自己\n        cc.game.off(NameTs.Game_Monster_Shadow_Linster+this.monsetrName,this.destroySelf);\n        cc.game.emit(NameTs.Game_Monster_Hp_Killed,this.node);\n    }\n    // update (dt) {}\n}\n"]}