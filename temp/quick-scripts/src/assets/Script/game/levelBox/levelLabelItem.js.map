{"version":3,"sources":["assets\\Script\\game\\levelBox\\levelLabelItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAyC;AAEnC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAY;IAAxD;QAAA,qEAuDC;QApDW,WAAK,GAAY,IAAI,CAAC,CAAA,IAAI;QAElC,UAAU;QACF,gBAAU,GAAW,IAAI,CAAC;QAIlC,OAAO;QACC,cAAQ,GAAW,KAAK,CAAC;;IA4CrC,CAAC;IAxCG,8BAAK,GAAL;IAEA,CAAC;IAED,6BAAI,GAAJ,UAAK,IAAI;QAAT,iBAQC;QAPG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,eAAe,GAAC,IAAI,CAAC,EAAE,EAAC;YAC/C,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,EAAC,IAAI,CAAC,CAAC;IACZ,CAAC;IAED,UAAU;IACV,iCAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,GAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,CAAC;QACjE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,sBAAsB,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,+BAAM,GAAN,UAAQ,EAAE;QACN,IAAG,IAAI,CAAC,QAAQ;YAAC,OAAO;QACxB,IAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAC;YAC5C,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;QACD,IAAG;YACC,IAAG,IAAI,CAAC,UAAU,IAAE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAC;gBAC5C,IAAI,GAAG,GAAW,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;gBAChD,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAC,MAAM,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAC,MAAM,CAAC;aAC9B;SACJ;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,OAAO,CAAC,CAAA;SAC9C;IAEL,CAAC;IAjDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACW;IAHb,cAAc;QADlC,OAAO;OACa,cAAc,CAuDlC;IAAD,qBAAC;CAvDD,AAuDC,CAvD2C,EAAE,CAAC,SAAS,GAuDvD;kBAvDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import NameTs from \"../../common/NameTs\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class levelLabelItem extends cc.Component {\n\n    @property(cc.Label)\n    private label:cc.Label = null;//文字\n\n    /**目标位置 */\n    private targetNode:cc.Node = null;\n\n    private turretFn:any;\n    \n    //是否在删除\n    private isKilled:boolean = false;\n\n    private initData:any;\n\n    start () {\n\n    }\n\n    init(data){\n        this.initData = data;\n        this.targetNode = data.node;\n        this.label.string = data.level;\n        this.isKilled = false;\n        this.turretFn = cc.game.on(\"turret_label_\"+data.no,()=>{\n            this.killSelf();\n        },this);\n    }\n\n    /**删除自己 */\n    killSelf(){\n        this.isKilled = true;\n        cc.game.off(\"turret_label_\"+this.initData.no,this.turretFn,this);\n        cc.game.emit(NameTs.Game_LevelLabel_Killed,this.node);\n    }\n\n    update (dt) {\n        if(this.isKilled)return;\n        if(!this.targetNode || !this.targetNode.isValid){\n            this.killSelf();\n            return;\n        }\n        try{\n            if(this.targetNode&&this.targetNode.getPosition){\n                let pos:cc.Vec2 = this.targetNode.getPosition();\n                this.node.x = pos.x-48.878;\n                this.node.y = pos.y+40.735;\n            }\n        }catch(error){\n            console.log(error,this.initData.no,'error')\n        }\n        \n    }\n\n\n}\n"]}