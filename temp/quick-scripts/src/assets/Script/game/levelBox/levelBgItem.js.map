{"version":3,"sources":["assets\\Script\\game\\levelBox\\levelBgItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAyC;AAEnC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAY;IAArD;QAAA,qEA0CC;QAxCG,UAAU;QACF,gBAAU,GAAW,IAAI,CAAC;QAIlC,OAAO;QACC,cAAQ,GAAW,KAAK,CAAC;;IAkCrC,CAAC;IA9BG,2BAAK,GAAL;IAEA,CAAC;IAED,0BAAI,GAAJ,UAAK,IAAI;QAAT,iBAOC;QANG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,GAAC,IAAI,CAAC,EAAE,EAAC;YAC5C,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,EAAC,IAAI,CAAC,CAAC;IACZ,CAAC;IACD,UAAU;IACV,8BAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,GAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,CAAC;QAC9D,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,sBAAsB,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,4BAAM,GAAN,UAAQ,EAAE;QACN,IAAG,IAAI,CAAC,QAAQ;YAAC,OAAO;QACxB,IAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAC;YAC5C,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;QACD,IAAI,GAAG,GAAW,IAAI,CAAC,UAAU,IAAE,IAAI,CAAC,UAAU,CAAC,WAAW,IAAE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAC9F,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAC,MAAM,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAC,MAAM,CAAC;IAE/B,CAAC;IAzCgB,WAAW;QAD/B,OAAO;OACa,WAAW,CA0C/B;IAAD,kBAAC;CA1CD,AA0CC,CA1CwC,EAAE,CAAC,SAAS,GA0CpD;kBA1CoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import NameTs from \"../../common/NameTs\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class levelBgItem extends cc.Component {\n\n    /**目标位置 */\n    private targetNode:cc.Node = null;\n\n    private turretFn:any;\n\n    //是否在删除\n    private isKilled:boolean = false;\n    \n    private initData:any;\n\n    start () {\n\n    }\n\n    init(data){\n        this.initData = data;\n        this.targetNode = data.node;\n        this.isKilled = false;\n        this.turretFn = cc.game.on(\"turret_bg_\"+data.no,()=>{\n            this.killSelf();\n        },this);\n    }\n    /**删除自己 */\n    killSelf(){\n        this.isKilled = true;\n        cc.game.off(\"turret_bg_\"+this.initData.no,this.turretFn,this);\n        cc.game.emit(NameTs.Game_LevelLabel_Killed,this.node);\n    }\n\n    update (dt) {\n        if(this.isKilled)return;\n        if(!this.targetNode || !this.targetNode.isValid){\n            this.killSelf();\n            return;\n        }                \n        let pos:cc.Vec2 = this.targetNode&&this.targetNode.getPosition&&this.targetNode.getPosition();\n        this.node.x = pos.x-47.931;\n        this.node.y = pos.y+36.495;\n        \n    }\n}\n"]}