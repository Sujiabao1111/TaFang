{"version":3,"sources":["assets\\Script\\effect\\turret\\turretEffect.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wCAAmC;AAE7B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA0C,gCAAY;IAAtD;QAAA,qEA4DC;QAzDG,gBAAU,GAAc,IAAI,CAAC;QAG7B,gBAAU,GAAc,IAAI,CAAC;QAE7B,wBAAwB;QAEhB,WAAK,GAAU,CAAC,CAAC;;QAiDzB,iBAAiB;IACrB,CAAC;IA/CG,2BAAI,GAAJ;QAAA,iBAuBC;QApBG,IAAI,CAAC,KAAK,GAAG,cAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QAGvC,IAAI,CAAC,QAAQ,GAAG,cAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAC,UAAC,GAAG;YACvB,KAAI,CAAC,UAAU,IAAE,CAAC,KAAI,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC;QACzD,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,UAAU,CAAC,MAAM,EAAC,UAAC,GAAG;YACvB,IAAG,KAAI,CAAC,UAAU,IAAE,GAAG,EAAC;gBACpB,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnC,KAAI,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG,CAAA;aACpC;iBAAI;gBACD,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACvC;YACD,IAAG,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAC,CAAC,EAAC;gBACnC,KAAI,CAAC,UAAU,IAAE,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;aACjF;QACL,CAAC,CAAC,CAAA;IAEN,CAAC;IAED,6BAAM,GAAN,cAAW,CAAC;IAEZ,4BAAK,GAAL;IAEA,CAAC;IAED;;OAEG;IACF,iCAAU,GAAV,UAAW,IAAW,EAAC,IAAa;QACjC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,EAAE,CAAC,WAAW,EAAC,UAAC,GAAG,EAAC,GAAkB;YAExE,IAAG,GAAG,EAAC;gBACH,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC;gBAC5B,OAAO;aACV;YACD,IAAI,CAAC,GAAG,CAAC,CAAC;QAEd,CAAC,CAAC,CAAC;IACP,CAAC;IAtDD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACS;IANZ,YAAY;QADhC,OAAO;OACa,YAAY,CA4DhC;IAAD,mBAAC;CA5DD,AA4DC,CA5DyC,EAAE,CAAC,SAAS,GA4DrD;kBA5DoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import util from \"../../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class turretEffect extends cc.Component {\n\n    @property(cc.Sprite)\n    bodySprite: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    footSprite: cc.Sprite = null;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    private level:number = 1;\n    private initData:any;\n\n    init(){\n\n\n        this.level = util.userData.turretLevel;\n\n        \n        this.initData = util.GetTurretData(this.level);\n\n        this.loadSprite(\"body\",(res)=>{\n            this.bodySprite&&(this.bodySprite.spriteFrame = res);\n        })\n        this.loadSprite(\"foot\",(res)=>{\n            if(this.footSprite&&res){\n                this.footSprite.node.active = true;\n                this.footSprite.spriteFrame = res\n            }else{\n                this.footSprite.node.active = false;\n            }\n            if(Number(this.initData.spriteFootY)>0){\n                this.footSprite&&(this.footSprite.node.y = Number(this.initData.spriteFootY));\n            }\n        })\n\n    }\n\n    onLoad () {}\n\n    start () {\n\n    }\n\n    /**\n     * 加载图片\n     */\n     loadSprite(name:string,call:Function){\n        cc.resources.load(this.initData[name],cc.SpriteFrame,(err,res:cc.SpriteFrame)=>{\n\n            if(err){\n                console.error(\"找不到该图片\",err);\n                return;\n            }\n            call(res);\n\n        });\n    }\n\n    // update (dt) {}\n}\n"]}