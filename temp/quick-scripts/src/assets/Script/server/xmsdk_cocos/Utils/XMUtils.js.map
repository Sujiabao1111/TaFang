{"version":3,"sources":["assets\\Script\\server\\xmsdk_cocos\\Utils\\XMUtils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["export module XMUtils {\n\n    /**在两个范围内取值 min ≤ r ≤ max */\n    export function RandomNumBoth(Min, Max) {\n        var Range = Max - Min;\n        var Rand = Math.random();\n        var num = Min + Math.round(Rand * Range); //四舍五入         \n        return num;\n    }\n\n    /**判断是否是同一天，将传入的timer与当前的时间进行对比 \n     * timer 是秒\n    */\n    export function IsToday(timer) {\n        let oldTimer = timer * 1000;       //将秒转换为毫秒\n        if (new Date(oldTimer).toDateString() === new Date().toDateString()) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**深度拷贝 */\n    export function deepCopy(p, c) {\n        var c = c || {};\n        for (var i in p) {\n            if (typeof p[i] === 'object') {\n                c[i] = (p[i].constructor === Array) ? [] : {};\n                this.deepCopy(p[i], c[i]);\n            } else {\n                c[i] = p[i];\n            }\n        }\n        return c;\n    }\n\n    /**是否记录过channe字段 */\n    export function HasChannel() {\n        let key = \"channel\";\n        if (cc.sys.localStorage.getItem(key)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * \n     * @param arr 数组\n     * @param isDesc 升序降序 true:升序 false:降序\n     * @param  key  键名\n     */\n    export function SortFunction(arr, isDesc = true, key?) {\n        let sort = null;\n        let temp = [];\n        if (key) {\n            sort = function (a, b) {\n                if (a[key] > b[key]) {\n                    return isDesc ? 1 : -1;\n                } else if (a[key] < b[key]) {\n                    return isDesc ? -1 : 1;\n                } else if (a[key] == b[key]) {\n                    return 0;\n                }\n            }\n        } else {\n            sort = function (a, b) {\n                if (a > b) {\n                    return isDesc ? 1 : -1;\n                } else if (a < b) {\n                    return isDesc ? -1 : 1;\n                } else if (a == b) {\n                    return 0;\n                }\n            }\n        }\n        temp = arr.sort(sort);\n        return temp;\n    }\n\n    /**\n     * 返回数组中最大数的索引\n     */\n    export function returnIndexLarge(arr) {\n        let length = arr ? arr.length : 0;\n        let index = 0;\n        let max = arr ? arr[0] : 0;\n        for (let i = 1; i < length; i++) {\n            if (arr[i] > max) {\n                max = arr[i];\n                index = i;\n            }\n        }\n        return index;\n    }\n\n    export function CheckNameLenght(name) {\n        if (name && name.length > 0) {\n            if (name.length > 7) {\n                return name.substring(0, 7) + \"..\";\n            } else {\n                return name;\n            }\n        } else {\n            return \"\";\n        }\n    }\n\n    //获取url encode过的数据\n    export function getUrlDecodeParam(param_name) {\n        param_name = param_name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n        const urlReg = new RegExp(\"[\\\\?&]\" + param_name + \"=([^&#]*)\");\n        const result = urlReg.exec(window.location.search);\n        if (result) {\n            return decodeURI(result[1].replace(/\\+/g, \" \"));\n        }\n        return null;\n    }\n\n    // 浮点加法\n    export function numberAdd(arg1, arg2) {\n        let r1, r2, m, c;\n        try {\n            r1 = arg1.toString().split('.')[1].length;\n        } catch (e) {\n            r1 = 0;\n        }\n        try {\n            r2 = arg2.toString().split('.')[1].length;\n        } catch (e) {\n            r2 = 0;\n        }\n        c = Math.abs(r1 - r2);\n        m = Math.pow(10, Math.max(r1, r2));\n        if (c > 0) {\n            let cm = Math.pow(10, c);\n            if (r1 > r2) {\n                arg1 = Number(arg1.toString().replace('.', ''));\n                arg2 = Number(arg2.toString().replace('.', '')) * cm;\n            } else {\n                arg1 = Number(arg1.toString().replace('.', '')) * cm;\n                arg2 = Number(arg2.toString().replace('.', ''));\n            }\n        } else {\n            arg1 = Number(arg1.toString().replace('.', ''));\n            arg2 = Number(arg2.toString().replace('.', ''));\n        }\n        return (arg1 + arg2) / m;\n    }\n\n    // 浮点减法\n    export function numberSub(a, b) {\n        return XMUtils.numberAdd(a, -b)\n    }\n\n    //浮点乘法\n    export function numberMul(a, b) {\n        var A = a.toString(),\n            B = b.toString(),\n            r,\n            p,\n            ap = A.indexOf('.'),\n            bp = B.indexOf('.');\n        if (ap < 0 && bp < 0) {\n            r = a * b;\n        } else {\n            ap = ap === -1 ? A.length + 1 : ap\n            bp = bp === -1 ? B.length + 1 : bp\n            p = Math.pow(10, Math.max(A.length - ap - 1, B.length - bp - 1));\n            A = A.indexOf(\".\") > -1 ? parseInt(A.replace('.', '')) : A * p;\n            B = B.indexOf(\".\") > -1 ? parseInt(B.replace('.', '')) : B * p;\n            r = (A * B) / (p * p);\n        }\n        return r\n    }\n\n    //浮点除法\n    export function numberDiv(a, b) {\n        var A = a.toString(),\n            B = b.toString(),\n            r,\n            p,\n            ap = A.indexOf('.'),\n            bp = B.indexOf('.');\n        if (ap < 0 && bp < 0) {\n            r = a / b;\n        } else {\n            ap = ap === -1 ? A.length + 1 : ap\n            bp = bp === -1 ? B.length + 1 : bp\n            p = Math.pow(10, Math.max(A.length - ap - 1, B.length - bp - 1));\n            A = A.indexOf(\".\") > -1 ? parseInt(A.replace('.', '')) : A * p;\n            B = B.indexOf(\".\") > -1 ? parseInt(B.replace('.', '')) : B * p;\n            r = A / B;\n        }\n        return r\n    }\n}\n\n"]}