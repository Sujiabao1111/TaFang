{"version":3,"sources":["assets\\Script\\server\\xmsdk_cocos\\Utils\\Init.ts"],"names":[],"mappings":";;;;;;AAAA,iDAA4C;AAC5C,4DAAuD;AAGvD,8DAAyD;AACzD,6CAA4C;AAE5C,CAAC;AAAC,CAAC,UAAU,CAAC;IACV,UAAU;IACV,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAA;IAE7B,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC;IAE/B,MAAM;IACL,MAAM,CAAC,aAAa,CAAC,GAAG;QACpB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,WAAW,CAAC,CAAA;QAChC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC,CAAC;IACH,SAAS;IACR,MAAM,CAAC,cAAc,CAAC,GAAG;QACrB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,YAAY,CAAC,CAAA;QACjC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC,CAAC;IACH,aAAa;IACb,MAAM,CAAC,mBAAmB,CAAC,GAAG;QAC1B,gBAAgB;QAChB,iBAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,yBAAe,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAA;QAChE,iBAAO,CAAC,OAAO,GAAE,QAAQ,CAAE;QAC3B,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,iBAAiB,CAAC,CAAA;IAC1C,CAAC,CAAC;IACF,MAAM;IACN,MAAM,CAAC,gBAAgB,CAAC,GAAG;QACvB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,yBAAe,IAAI,yBAAe,CAAC,SAAS,EAAE;YAC9C,yBAAe,CAAC,WAAW,GAAG,KAAK,CAAC;YACpC,yBAAe,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;SACvC;IACL,CAAC,CAAA;IACD,MAAM;IACN,MAAM,CAAC,iBAAiB,CAAC,GAAG;QACxB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,yBAAe,IAAI,yBAAe,CAAC,SAAS,EAAE;YAC9C,yBAAe,CAAC,WAAW,GAAG,IAAI,CAAC;YACnC,yBAAe,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;SACvC;aACI;YACD,yBAAe,CAAC,SAAS,GAAG,IAAI,yBAAe,EAAE,CAAC;YAClD,yBAAe,CAAC,WAAW,GAAG,IAAI,CAAC;YACnC,yBAAe,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;SACvC;IACL,CAAC,CAAA;IACD,SAAS;IACT,MAAM,CAAC,eAAe,CAAC,GAAG;QACtB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;QACtB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,aAAa,CAAC,CAAA;IACtC,CAAC,CAAC;IACF,WAAW;IACX,MAAM,CAAC,mBAAmB,CAAC,GAAG,UAAC,GAAG;QAC9B,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAA;QACxB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAM,CAAC,iBAAiB,CAAC,CAAC;IAC3C,CAAC,CAAA;IACD,WAAW;IACX,MAAM,CAAC,kBAAkB,CAAC,GAAG;IAE7B,CAAC,CAAA;AACL,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA","file":"","sourceRoot":"/","sourcesContent":["import NameTs from \"../../../common/NameTs\";\nimport soundController from \"../../../soundController\";\nimport util from \"../../../util/util\";\nimport { AdUtil } from \"../AD/AdUtil\";\nimport PlatformFactory from \"../Adapter/PlatformFactory\";\nimport { AppInfo } from \"../Config/AppInfo\";\n\n; (function ($) {\n    //初始window\n    console.log(\"初始化window,注册监听\")\n\n    window[`SystemInterface`] = {};\n\n    //进入后台\n     window[\"onGamePause\"] = () => {        \n         cc.game.emit(NameTs.onGamePause)\n         console.log(\"安卓游戏进入后台\");\n     };\n    // //回到前台\n     window[\"onGameResume\"] = () => {\n         cc.game.emit(NameTs.onGameResume)\n         console.log(\"安卓重新返回游戏\");\n     };\n    //重新获取token成功\n    window[\"retryTokenSuccess\"] = () => {\n        //重新获取token,重新请求\n        AppInfo.phead = JSON.parse(PlatformFactory.Ins.getPheadString())\n        AppInfo.version =\"v1.2.9\" ;\n        cc.game.emit(NameTs.retryTokenSuccess)\n    };\n    //暂停音效\n    window[\"pauseGameMusic\"] = () => {\n        console.log(\"安卓暂停音效\");\n        if (soundController && soundController.singleton) {\n            soundController.isPlayMusic = false;\n            soundController.singleton.stopBGM();\n        }\n    }\n    //恢复音效\n    window[\"replayGameMusic\"] = () => {\n        console.log(\"安卓恢复音效\");\n        if (soundController && soundController.singleton) {\n            soundController.isPlayMusic = true;\n            soundController.singleton.playBGM();\n        }\n        else {\n            soundController.singleton = new soundController();\n            soundController.isPlayMusic = true;\n            soundController.singleton.playBGM();\n        }\n    }\n    //物理返回键监听\n    window[\"onBackPressed\"] = () => {\n        console.log(\"点击物理返回键\")\n        cc.game.emit(NameTs.onBackPressed)\n    };\n    //微信授权成功后回调\n    window[\"bindWechatSuccess\"] = (res) => {\n        console.log(\"微信授权成功后回调\")\n        cc.game.emit(NameTs.bindWechatSuccess);\n    }\n    //微信授权失败后回调\n    window[`bindWechatFailed`] = () => {\n        \n    }\n})(this)"]}