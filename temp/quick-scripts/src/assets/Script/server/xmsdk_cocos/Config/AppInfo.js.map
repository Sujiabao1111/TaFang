{"version":3,"sources":["assets\\Script\\server\\xmsdk_cocos\\Config\\AppInfo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/**\n * 爱消除环境配置\n */\nimport * as MD5 from '../Utils/md5';\n//web版本号，每次发版本修改\nexport const WebVersionCode = 103001;       //1030是安卓的，01是客户端的\n//是否本地开发,上线前需要改成false\nconst isLocal = cc.sys.os != cc.sys.OS_ANDROID;\n// 是否为测试服,上线前需要改成false\nconst isTest = true;\n//网页的host\nconst getHost = function (hasTest) {\n    return (hasTest ? 'https://finevideo.jidiandian.cn' : 'https://jidiandian.cn');\n\n}\n//客户端Host\nconst getAppHost = function (hasTest) {\n    return (hasTest ? 'https://testapi.jidiandian.cn' : 'https://api.jidiandian.cn');\n}\n\nconst getAppName = function (hasTest) {\n    return (hasTest ? \"Debug\" : \"Release\");\n}\n// 是否加密数据\nconst isEncryptData = true;\n\nconst KEY = 'xkX2Ab1P3KuI214V';\nconst AppInfo = {\n    prdId: null,\n    code: \"3\",  // 服务器版本区分\n    appName: getAppName(isTest),\n    isEncryptData: isEncryptData,\n    version: \"1.0.1\",\n    isTest: isTest,\n    host: getHost(isTest),\n    appHost: getAppHost(isTest),\n    adHead: null,\n    phead: null,\n    isLocal,\n\n};\n\n//设置测试/正式服\nconst setUpTesting = function (hasTest) {\n    // hasTest = false\n    AppInfo.appName = getAppName(hasTest);\n    AppInfo.isTest = hasTest;\n    AppInfo.host = getHost(hasTest);\n    AppInfo.appHost = getAppHost(hasTest);\n}\n//获取phead \nconst getPhead = function () {\n    let phead = AppInfo.phead;\n    if (typeof AppInfo.phead === 'string') {\n        try {\n\n            phead = JSON.parse(phead);\n        } catch (e) {\n            throw new Error(e);\n        }\n    }\n\n    //console.log(\"phead\",JSON.stringify(phead))\n    return phead;\n}\n//获取adHead\nconst getAdHead = function () {\n    let clientAdHead = AppInfo.adHead;\n\n    if (typeof clientAdHead === 'string') {\n        try {\n            clientAdHead = JSON.parse(clientAdHead);\n        } catch (e) {\n            cc.log(\"获取adHead出错\");\n            throw new Error('获取adHead出错');\n        }\n    }\n    const {\n        prdId,\n        deviceId,\n    } = clientAdHead || {};\n    const timestamp = Date.now();\n    const phead = getPhead() || {};\n    const sign = MD5(encodeURIComponent(`prdId=${prdId}&deviceId=${deviceId}&timestamp=${timestamp}&key=${KEY}`));\n    return JSON.stringify(Object.assign(clientAdHead, { \"timestamp\": timestamp, \"signature\": sign, \"token\": phead.access_token || '' }));\n\n}\nconst getPrdId = function () {\n    if (AppInfo.prdId) return AppInfo.prdId;\n\n    let clientAdHead = AppInfo.adHead;\n    if (typeof clientAdHead === 'string') {\n        try {\n            clientAdHead = JSON.parse(clientAdHead);\n        } catch (e) {\n            cc.log(\"获取adHead出错\");\n            throw new Error('获取adHead出错');\n        }\n    }\n    AppInfo.prdId = clientAdHead.prdId;\n\n    return AppInfo.prdId;\n}\n\n\nexport { AppInfo, getAdHead, getPhead, getPrdId, setUpTesting };"]}