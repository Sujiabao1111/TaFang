{"version":3,"sources":["assets\\Script\\NewBigWheel\\NewBigWheelMarquee.ts"],"names":[],"mappings":";;;;;AAAA;;;;;;;GAOG;;;;;;;;;;;;;;;;;;;;;AAEG,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAgD,sCAAY;IAA5D;QAAA,qEA2CC;QA1CG,QAAQ;QAER,iBAAW,GAAY,IAAI,CAAA;QAE3B,eAAS,GAAY,IAAI,CAAA;QAEzB,uBAAiB,GAAc,IAAI,CAAA;;IAoCvC,CAAC;IAlCG,kCAAK,GAAL;IAEA,CAAC;IAED,8CAAiB,GAAjB,UAAkB,IAAI;QAAtB,iBA6BC;QA5BG,IAAI,CAAC,IAAI,CAAC,cAAc;YAAE,OAAO;QACjC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;QACrC,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,KAAK;YAChC,IAAI,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC;YACzD,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;YACjD,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YACvC,WAAW,IAAI,WAAW,CAAC,MAAM,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;aACnC,aAAa,CACV,EAAE,CAAC,KAAK,EAAE;aACL,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;aACtD,KAAK,CAAC,CAAC,CAAC;aACR,IAAI,CAAC;YACF,KAAK,EAAE,CAAC;YACR,IAAI,KAAK,IAAI,KAAI,CAAC,WAAW,CAAC,aAAa,GAAG,CAAC,EAAE;gBAC7C,KAAK,GAAG,CAAC,CAAC;gBACV,KAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;aAC1B;QACL,CAAC,CAAC,CACT,CAAC;QACN,IAAI,CAAC,YAAY,CAAC;YACd,OAAO,CAAC,KAAK,EAAE,CAAC;QACpB,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;IAvCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2DACS;IAE3B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yDACO;IAEzB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iEACe;IAPlB,kBAAkB;QADtC,OAAO;OACa,kBAAkB,CA2CtC;IAAD,yBAAC;CA3CD,AA2CC,CA3C+C,EAAE,CAAC,SAAS,GA2C3D;kBA3CoB,kBAAkB","file":"","sourceRoot":"/","sourcesContent":["/*\n * @Descripttion: \n * @version: \n * @Author: mies\n * @Date: 2021-02-23 17:14:05\n * @LastEditors: mies\n * @LastEditTime: 2021-02-24 11:40:04\n */\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewBigWheelMarquee extends cc.Component {\n    //获得奖励轮播\n    @property(cc.Node)\n    marqueeList: cc.Node = null\n    @property(cc.Node)\n    marqueeBg: cc.Node = null\n    @property(cc.Prefab)\n    marqueeItemPrefab: cc.Prefab = null\n\n    start() {\n\n    }\n\n    updateMarqueeList(data) {\n        if (!data.prevPeriodList) return;\n        this.marqueeList.stopAllActions();\n        this.marqueeList.y = 0;\n        this.marqueeList.removeAllChildren();\n        let totalHeight = 0;\n        data.prevPeriodList.map((item, index) => {\n            let marqueeItem = cc.instantiate(this.marqueeItemPrefab);\n            marqueeItem.getComponent(cc.Label).string = item;\n            this.marqueeList.addChild(marqueeItem);\n            totalHeight += marqueeItem.height;\n        });\n        let count = 0;\n        let running = cc.tween(this.marqueeList)\n            .repeatForever(\n                cc.tween()\n                    .by(1, { y: totalHeight / data.prevPeriodList.length })\n                    .delay(2)\n                    .call(() => {\n                        count++;\n                        if (count >= this.marqueeList.childrenCount - 1) {\n                            count = 0;\n                            this.marqueeList.y = 0;\n                        }\n                    })\n            );\n        this.scheduleOnce(() => {\n            running.start();\n        }, 0);\n    }\n}\n"]}