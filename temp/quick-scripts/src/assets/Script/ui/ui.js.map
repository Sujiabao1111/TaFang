{"version":3,"sources":["assets\\Script\\ui\\ui.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AssistCtr } from \"../Assist/AssistCtr\";\nimport { gameNumerical, gamePass, gameState, propInfo, propState, propType, thingType, updateType } from \"../common/faceTs\";\nimport NameTs from \"../common/NameTs\";\nimport pageTs from \"../common/pageTs\";\nimport RedController from \"../controlelr/RedController\";\nimport userData from \"../data/userData\";\nimport PageManage from \"../PageManage\";\nimport { UrlConst } from \"../server/UrlConst\";\nimport XMSDK from \"../server/xmsdk_cocos/XMSDK\";\nimport soundController from \"../soundController\";\nimport TrackMgr from \"../TrackMgr/TrackMgr\";\nimport util from \"../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n//更-多-源-码-联-系-Q:30-387-459-55\n@ccclass\nexport default class ui extends cc.Component {\n\n    @property(cc.Label)\n    customsLabel: cc.Label = null; //关卡label\n    \n    @property(cc.Node)\n    videoIcon:cc.Node = null; //视频\n    \n    @property(cc.Widget)\n    topBar:cc.Widget = null; //顶部\n \n    @property(cc.Label)\n    productLabel:cc.Label = null; //产能值\n\n    @property(cc.Node)\n    touchNode:cc.Node = null; //用于拖动位置的\n \n    @property(cc.Label)\n    coinLabel:cc.Label = null; //金币\n    \n    @property(cc.Node)\n    buyBtnNode:cc.Node = null; //购买按钮\n    \n    @property(cc.Node)\n    turret:cc.Node = null; //炮塔\n    \n    @property(cc.Node)\n    savePotIcon:cc.Node = null; //存钱罐\n    \n    @property(cc.Node)\n    propBox:cc.Node = null; //道具弹窗\n    \n    @property(cc.Node)\n    buyEnergy:cc.Node = null; //进度条\n\n    @property(cc.Node)        //新手任务Icon\n    btn_newPlayerTask:cc.Node = null;\n\n    @property(cc.Node)        //炮王任务Icon\n    btn_kingPao:cc.Node = null;\n    \n    @property({type:cc.Node,displayName:\"垃圾回收节点\"})\n    private recycleNode:cc.Node = null; \n    \n    @property(cc.Sprite)\n    gameStatePic:cc.Sprite = null; //开关Sprite\n    @property([cc.SpriteFrame])\n    gameStateSpriteFrame:cc.SpriteFrame[] = []; //开关SpriteFrame\n\n    private productNum:number;//产能\n    private EnergyNum:number = 0;//产能\n\n    @property(cc.Node)      //首页任务红点\n    private mainTask_red:cc.Node = null;\n\n    @property(cc.Label)     //首页红点可领取任务数量\n    private lable_redNum:cc.Label = null;\n\n    @property(cc.Node)      //首页签到红点\n    private signRed_red:cc.Node = null;\n\n    @property(cc.Node)      //首页大转盘红点\n    private wheel_red:cc.Node = null;\n\n    onLoad () {\n\n        this.topBar.top += Number(util.iphoneXTop);\n\n        //数据更新\n        cc.game.on(NameTs.Game_View_UserDataUpdata,(res)=>{\n\n            this.updateData(res);\n\n        },this);\n\n        this.productNum = gameNumerical.ProductTime;\n\n        this.updateData(updateType.product);\n        this.updateData(updateType.coin);\n\n        util.GlobalMap.set(\"coin\",this.coinLabel.node.getParent().children[0]);\n        util.GlobalMap.set(\"turretBuy\",this.turret);\n        util.GlobalMap.set(\"savingPot\",this.savePotIcon);\n\n        \n        //拿起\n        cc.game.on(NameTs.Game_Turret_PickUp,(res)=>{\n            \n            this.buyBtnNode.active = false;\n            this.turret.active = false;\n            this.recycleNode.active = true;\n\n        },this);\n\n        //放下\n        cc.game.on(NameTs.Game_Turret_PutDown,(res)=>{\n\n            this.buyBtnNode.active = true;\n            this.turret.active = true;\n            this.recycleNode.active = false;\n\n        },this);\n\n        //关卡标题更新\n        cc.game.on(NameTs.Game_View_CustomsUpdata, () => {\n\n            this.changeLevelData();\n\n        }, this);\n\n        cc.game.on(NameTs.Game_Tool_Use, ()=>{\n            if(util.levelState == gameState.stop){\n                this.stopGame();\n            }\n        }, this)\n        \n        cc.game.on(NameTs.Game_Stop, ()=>{            \n            this.gameStatePic.spriteFrame = this.gameStateSpriteFrame[util.levelState==1?1:0];\n        }, this)\n\n        cc.game.on(NameTs.Game_Resume, ()=>{\n            this.gameStatePic.spriteFrame = this.gameStateSpriteFrame[util.levelState==1?1:0];\n        }, this)\n\n        \n        cc.game.on(NameTs.onBackPressed, ()=>{\n            console.log(\"安卓调用物理返回键并取消cocos监听\");\n            cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onBackPressed, this);\n            this.onBackPressed();\n        }, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onBackPressed, this);\n\n        cc.game.on(NameTs.Game_Start, ()=>{\n            if(util.isCheckTaskRed){\n                util.isCheckTaskRed = false;\n                RedController.checkTaskRed((okNum)=>{\n                    if(okNum && okNum > 0){\n                        this.mainTask_red.active = true;\n                        this.lable_redNum.string = okNum;\n                    }\n                    else{\n                        this.mainTask_red.active = false;\n                    }\n                })\n            }\n        }, this);\n\n        cc.game.on(NameTs.Game_Main_Task_updata, (res)=>{\n            if(res != null){\n                util.isCheckTaskRed = false;\n                this.mainTask_red.active = res > 0;\n                this.lable_redNum.string = res;\n            }            \n        }, this);\n\n        if(!util.chekcToday()){\n            util.userData.GetTurretNum = 18;\n            util.setStorage(util.localDiary.GetTurretNum,util.userData.GetTurretNum);\n        }\n\n        cc.tween(this.buyEnergy).repeatForever(cc.tween().to(2,{x:319/2}).to(0,{x:-319/2})).start();\n\n        cc.game.on(NameTs.Game_CloseNewPlayerTask, ()=>{\n            this.btn_newPlayerTask.active = false;\n        }, this);\n\t\tconsole.log(\"------------------------开1始---------------------\")\n        //fix bug\n\t\tXMSDK.getdataStr({\n            url: UrlConst.newPlayerTaskData,\n            onSuccess: res => {   \n                if(!this.isValid){\n                    return;\n                }\n                console.log(\"2222222222 url: UrlConst.newPlayerTaskData, :\" + res.data )\n                if(!res || res.code != 0 || !res.data || !res.data.withdrawTaskItemVoMap){\n                    this.btn_newPlayerTask.active = false;\n                }\n                else{                    \n                    this.btn_newPlayerTask.active = true;\n                    if(this.btn_newPlayerTask.getChildByName(\"light\")){\n                        let image = this.btn_newPlayerTask.getChildByName(\"light\");\n                        image .stopAllActions();\n                        cc.tween(image).by(1,{angle:-360}).repeatForever().start();\n                    }\n                    \n                    if(this.btn_newPlayerTask.getChildByName(\"image\")){\n                        let image = this.btn_newPlayerTask.getChildByName(\"image\");\n                        cc.tween(image).repeatForever(\n                            cc.tween().to(.3,{angle:10}).to(.2,{angle:0})\n                        ).start();\n                    }                   \n                }                \n            },\n            onFail: err => {\n\n            }\n        }\n        )     \n\n        if(this.btn_kingPao.getChildByName(\"light\")){\n            let image = this.btn_kingPao.getChildByName(\"light\");\n            image .stopAllActions();\n            cc.tween(image).by(1,{angle:-360}).repeatForever().start();\n        }     \n\n        RedController.initGoldWheelData(this.wheel_red);\n        RedController.initSignRedData(this.signRed_red);\n    }\n\n    start () {\n        this.changeLevelData();\n\n        // 将垃圾箱放进levelMap数组进去\n        this.scheduleOnce(()=>{\n            \n            let pos:cc.Vec2 = this.recycleNode.getParent().convertToWorldSpaceAR(this.recycleNode.getPosition());\n            pos = this.touchNode.convertToNodeSpaceAR(pos);\n            util.levelMap.push({\n                type:thingType.recycle,\n                pos:pos,\n                width:this.recycleNode.width,\n                height:this.recycleNode.height\n            });\n        },.1);\n\n    }\n\n\n    /**\n     * 购买\n     */\n    buyBtn(){\n\n        cc.game.emit(NameTs.Game_Turret_Creator);\n    }\n\n    /**\n     * 暂停游戏\n     */\n    stopGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"暂停\",\n            app_exposure_type: \"icon\",\n        })\n\n        soundController.singleton.clickAudio();\n        util.levelState = util.levelState==gameState.stop?gameState.start:gameState.stop;\n        cc.game.emit(util.levelState==gameState.stop?NameTs.Game_Stop:NameTs.Game_Resume);\n        this.gameStatePic.spriteFrame = this.gameStateSpriteFrame[util.levelState==1?1:0];\n        util.isStop =!util.isStop;\n    }\n\n    /**\n     * 设置游戏\n     */\n    SetGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"设置\",\n            app_exposure_type: \"icon\",\n        })\n\n        soundController.singleton.clickAudio();\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameSet);\n    }\n    /**\n     * 图鉴\n     */\n    TuJianGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"图鉴\",\n            app_exposure_type: \"banner\",\n        })\n        \n        soundController.singleton.clickAudio();\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameTuJian);\n    }\n    \n    /**\n     * 道具\n     */\n    PropGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"道具\",\n            app_exposure_type: \"banner\",\n        })\n        soundController.singleton.clickAudio();\n        this.propBox.active = !this.propBox.active;\n        // cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameProp);\n    }\n    /**\n     * 签到\n     */\n    SignGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"签到\",\n            app_exposure_type: \"icon\",\n        })\n       \n        if(this.signRed_red.active){\n            TrackMgr.little_red_dots({\n                activity_state: \"小红点点击\",\n                activity_position: \"签到\",\n            })\n        }\n        else{\n            TrackMgr.little_red_dots({\n                activity_state: \"普通点击（非小红点）\",\n                activity_position: \"签到\",\n            })    \n        }\n\n        soundController.singleton.clickAudio();\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameSign);\n    }\n    /**\n     * 提现\n     */\n    walletGame(e, data){\n        if(data==1){\n            TrackMgr.AppClick({\n                app_page_title: \"首页\",\n                app_ck_module: \"升级提现\",\n                app_exposure_type: \"icon\",\n            })\n        }else{\n            TrackMgr.AppClick({\n                app_page_title: \"首页\",\n                app_ck_module: \"提现\",\n                app_exposure_type: \"icon\",\n            })\n        }\n\n        soundController.singleton.clickAudio();\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameWallet);\n    }\n\n    /**\n     * 收益翻倍\n     */\n    EarnGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"收益翻倍\",\n            app_exposure_type: \"banner\",\n        })\n\n        soundController.singleton.clickAudio();\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameEarnings);\n    }\n    /**\n     * 任务\n     */\n    TaskGame(){\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"任务\",\n            app_exposure_type: \"banner\",\n        })\n\n\n        soundController.singleton.clickAudio();\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameTask);\n    }\n    /**\n     * 点击物理返回键\n     */\n    onBackPressed() {     \n        if(PageManage.singleton.findPage(pageTs.pageName.GameDetention)){\n            PageManage.singleton.closePage(pageTs.pageName.GameDetention, true);\n        }\n        else{\n            cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameDetention);\n        }            \n    }\n\n    /**\n     * 展示新手任务\n     */\n    clickNewPlayerTask(){\n        TrackMgr.newcomer_mission({\n            activity_state: `「新人任务」按钮点击`\n        })\n\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"新人提现\",\n            app_exposure_type: \"Icon\",\n        });\n\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameNewPlayerTask);\n    }\n\n    /**\n     * 展示炮王任务\n     */\n    clickKingPaoTask(){\n        TrackMgr.artillery_bonus({\n            activity_state:`「百万分红」按钮点击`\n        })\n\n        TrackMgr.AppClick({\n            app_page_title: \"首页\",\n            app_ck_module: \"百元分红\",\n            app_exposure_type: \"Icon\",\n        });\n\n        cc.game.emit(NameTs.Game_Pop_Open,pageTs.pageName.GameKingPao);\n    }\n    /**\n     * 点击金币转盘\n     */\n    clickGoldWheel(){\n        PageManage.singleton.showPage(pageTs.pageName.GameGoldWheel)        \n\n        TrackMgr.big_turntable({\n            activity_state:\"首页抽手机位置点击\"\n        })\n        TrackMgr.AppClick({\n            app_page_title:\"首页\",\n            app_ck_module:\"大转盘\"\n        })\n    \n        if(this.wheel_red.active){\n            TrackMgr.little_red_dots({\n                activity_state: \"小红点点击\",\n                activity_position: \"大转盘\",\n            })\n        }\n        else{\n            TrackMgr.little_red_dots({\n                activity_state: \"普通点击（非小红点）\",\n                activity_position: \"大转盘\",\n            })    \n        }\n\n        RedController.checkMainGoldWheelRed(false);\n    }\n    /**\n     * 抽手机\n     */\n    clickNewBigWheel(){\n        PageManage.singleton.showPage(pageTs.pageName.NewBigWheelController)\n        TrackMgr.AppClick({\n            app_page_title:\"首页\",\n            app_ck_module:\"抽手机\"\n        })\n    }\n\n    /**\n     * 增加储存值\n     */\n\n    productTurret(dt:number){\n        if(util.userData.product>=gameNumerical.ProductMax){\n            this.buyEnergy.y = -50+30*5;\n            return;\n        }\n        if(util.levelState == gameState.stop)return;\n        util.gameTime+=dt;\n        this.productNum -=dt;\n        this.EnergyNum +=dt;\n        this.buyEnergy.y = -50+this.EnergyNum*5;\n        if(this.productNum<=0){\n            console.log(this.EnergyNum,'this.EnergyNum')\n            this.EnergyNum = 0;\n            this.buyEnergy.y = -50;\n            this.productNum = gameNumerical.ProductTime;\n            util.productTurret();\n            this.updateData(updateType.product);\n            return;\n        }\n\n    }\n\n    /**\n     * 更新数据\n     * @param type 哪个\n     */\n    updateData(type:number){\n\n        let userData = util.userData;\n\n        switch(type){\n            case updateType.coin:\n                this.coinLabel.string = String(userData.coin);\n                break;\n            case updateType.hongbao:\n                break; \n            case updateType.product:\n                this.productLabel.string = userData.product+\"/\"+gameNumerical.ProductMax;\n                if(util.userData.GetTurretNum>0){\n                    this.productLabel.node.active = userData.product>0;\n                    this.videoIcon.active = userData.product<=0;\n                }else{\n                    this.videoIcon.active = false;\n                    this.productLabel.node.active = true;\n                }\n                RedController.checkMainGoldWheelRed();\n                break;   \n        }\n\n    }\n\n    update (dt) {\n        \n        this.productTurret(dt);\n\n        \n        this.propMonitor(dt);\n\n    }\n\n    \n\n\n    /**\n     * 道具使用监听\n     * @param dt \n     */\n    propMonitor(dt){\n        let propData:propInfo[] = util.userData.prop;\n        let frozenData = propData[propType.frozen-1];\n        let shockData = propData[propType.shock-1];\n        let shieldData = propData[propType.shield-1];\n        let autoData = propData[propType.auto-1];\n        let energizedData = propData[propType.energized-1];\n        this.propCountDown(frozenData,dt);\n        this.propCountDown(shockData,dt);\n        this.propCountDown(shieldData,dt);\n        this.propCountDown(autoData,dt);\n        this.propCountDown(energizedData,dt);\n        this.propCountDown(util.doubleEarn,dt);\n    }\n\n    /**\n     * 倒计时\n     * @param data 数据\n     * @param dt \n     */\n    propCountDown(data,dt){\n        if(data.use==propState.start&&util.levelState==gameState.start){\n            data.time-=dt;\n            if(data.time<=0){\n                data.use = propState.end;\n                data.time = null;\n                if(data.type == 3){\n                    cc.game.emit(NameTs.Close_Shield)\n                } \n            }                       \n        }\n    }\n\n    /**\n     * 更新关卡title\n     */\n\n    changeLevelData() {\n        let userData: userData = util.userData;//用户数据\n        let bigLevel: number = userData.customs.big; //大关卡\n        let samllLevel: number = userData.customs.small;//小关卡\n        console.log(\"关卡\" + bigLevel + \"-\" + samllLevel);\n        this.customsLabel.string = bigLevel + \"-\" + samllLevel;\n    }\n   \n\n    /** \n     * 改变炮塔等级\n    */\n    changeTurretBuy(){\n\n        // let level:number = util.getBuyRandomLevel();\n\n        // this.loadAny()\n\n    }\n   \n\n}\n"]}