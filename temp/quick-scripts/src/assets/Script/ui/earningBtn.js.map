{"version":3,"sources":["assets\\Script\\ui\\earningBtn.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAAsC;AAEtC,qCAAgC;AAG1B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAY;IAApD;QAAA,qEA4DC;QAzDG,SAAG,GAAY,IAAI,CAAC,CAAC,IAAI;QAGzB,WAAK,GAAY,IAAI,CAAC,CAAC,IAAI;QAG3B,eAAS,GAAa,IAAI,CAAC,CAAC,IAAI;;QAkDhC,iBAAiB;IACrB,CAAC;IA5CG,2BAAM,GAAN;QAAA,iBAOC;QALG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAM,CAAC,qBAAqB,EAAC,UAAC,GAAG;YACxC,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,EAAC,IAAI,CAAC,CAAC;IAEZ,CAAC;IAED,0BAAK,GAAL;IAEA,CAAC;IAED;;OAEG;IACH,6BAAQ,GAAR;QAEI,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAE,CAAC,CAAC;QAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAC,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAC,CAAC,CAAC;QAErD,IAAG,IAAI,CAAC,IAAI,GAAC,CAAC,EAAC;YACX,IAAI,CAAC,GAAG,EAAE,CAAC;SACd;IAEL,CAAC;IAED;;MAEE;IACF,wBAAG,GAAH;QAAA,iBAWC;QAVG,IAAI,CAAC,QAAQ,CAAC;YACV,KAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAG,KAAI,CAAC,IAAI,IAAE,CAAC,EAAC;gBACZ,KAAI,CAAC,sBAAsB,EAAE,CAAC;gBAC9B,KAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,OAAO;aACV;YACD,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,cAAI,CAAC,UAAU,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC,EAAC,CAAC,CAAC,CAAC;IAET,CAAC;IAvDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACE;IAGpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACI;IAGtB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACQ;IATV,UAAU;QAD9B,OAAO;OACa,UAAU,CA4D9B;IAAD,iBAAC;CA5DD,AA4DC,CA5DuC,EAAE,CAAC,SAAS,GA4DnD;kBA5DoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import NameTs from \"../common/NameTs\";\nimport soundController from \"../soundController\";\nimport tool from \"../util/tool\";\nimport util from \"../util/util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class earningBtn extends cc.Component {\n\n    @property(cc.Node)\n    pic: cc.Node = null; //图片\n\n    @property(cc.Node)\n    spine: cc.Node = null; //收益\n    \n    @property(cc.Label)\n    timeLabel: cc.Label = null; //时间\n\n    // LIFE-CYCLE CALLBACKS:\n\n    /**时间 */\n    private time:number;\n\n    onLoad () {\n\n        cc.game.on(NameTs.Game_Earnings_Linster,(res)=>{\n            this.time = res;\n            this.setState();\n        },this);\n\n    }\n\n    start () {\n\n    }\n\n    /**\n     * 设置状态\n     */\n    setState(){\n        \n        this.pic.active = this.time<=0;\n        this.spine.active = this.time>0;\n        this.timeLabel.node.getParent().active = this.time>0;\n\n        if(this.time>0){\n            this.djs();\n        }\n\n    }\n\n    /**\n     * 倒计时 \n    */\n    djs(){\n        this.schedule(()=>{\n            this.time--;\n            if(this.time<=0){\n                this.unscheduleAllCallbacks();\n                this.setState();\n                return;\n            }\n            this.timeLabel.string = tool.changeTime(this.time);\n        },1);\n\n    }\n    // update (dt) {}\n}\n"]}